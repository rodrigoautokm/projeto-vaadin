{
  "version": 3,
  "sources": ["../../@vaadin/message-list/theme/lumo/vaadin-message-avatar-styles.js", "../../@vaadin/message-list/theme/lumo/vaadin-message-styles.js", "../../@vaadin/message-list/theme/lumo/vaadin-message-list-styles.js", "../../@vaadin/message-list/src/vaadin-message-avatar.js", "../../@vaadin/message-list/src/vaadin-message.js", "../../@vaadin/message-list/src/vaadin-message-list.js"],
  "sourcesContent": ["import '@vaadin/avatar/theme/lumo/vaadin-avatar-styles.js';\nimport { css, registerStyles } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\n\nregisterStyles(\n  'vaadin-message-avatar',\n  css`\n    :host {\n      margin-right: calc(var(--lumo-space-m) - var(--vaadin-avatar-outline-width));\n      margin-top: calc(var(--lumo-space-s) - var(--vaadin-avatar-outline-width));\n    }\n\n    :host([dir='rtl']) {\n      margin-left: calc(var(--lumo-space-m) - var(--vaadin-avatar-outline-width));\n      margin-right: calc(var(--vaadin-avatar-outline-width) * -1);\n    }\n  `,\n  { moduleId: 'lumo-message-avatar' },\n);\n", "import '@vaadin/vaadin-lumo-styles/color.js';\nimport '@vaadin/vaadin-lumo-styles/sizing.js';\nimport '@vaadin/vaadin-lumo-styles/spacing.js';\nimport '@vaadin/vaadin-lumo-styles/style.js';\nimport '@vaadin/vaadin-lumo-styles/typography.js';\nimport './vaadin-message-avatar-styles.js';\nimport { css, registerStyles } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\n\nregisterStyles(\n  'vaadin-message',\n  css`\n    :host {\n      color: var(--lumo-body-text-color);\n      font-family: var(--lumo-font-family);\n      font-size: var(--lumo-font-size-m);\n      line-height: var(--lumo-line-height-m);\n      padding: var(--lumo-space-s) var(--lumo-space-m);\n      -moz-osx-font-smoothing: grayscale;\n      -webkit-font-smoothing: antialiased;\n      -webkit-text-size-adjust: 100%;\n    }\n\n    :host([focus-ring]) {\n      box-shadow: inset 0 0 0 2px var(--lumo-primary-color-50pct);\n    }\n\n    [part='header'] {\n      min-height: calc(var(--lumo-font-size-m) * var(--lumo-line-height-m));\n    }\n\n    [part='name'] {\n      margin-right: var(--lumo-space-s);\n    }\n\n    [part='name']:empty {\n      margin-right: 0;\n    }\n\n    :host([dir='rtl']) [part='name'] {\n      margin-left: var(--lumo-space-s);\n      margin-right: 0;\n    }\n\n    :host([dir='rtl']) [part='name']:empty {\n      margin-left: 0;\n    }\n\n    [part='time'] {\n      color: var(--lumo-secondary-text-color);\n      font-size: var(--lumo-font-size-s);\n    }\n  `,\n  { moduleId: 'lumo-message' },\n);\n", "import '@vaadin/vaadin-lumo-styles/color.js';\nimport '@vaadin/vaadin-lumo-styles/sizing.js';\nimport '@vaadin/vaadin-lumo-styles/spacing.js';\nimport '@vaadin/vaadin-lumo-styles/style.js';\nimport './vaadin-message-styles.js';\nimport { css, registerStyles } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\n\nregisterStyles('vaadin-message-list', css``, { moduleId: 'lumo-message-list' });\n", "/**\n * @license\n * Copyright (c) 2021 - 2022 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { Avatar } from '@vaadin/avatar/src/vaadin-avatar.js';\nimport { css, registerStyles } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\n\nregisterStyles(\n  'vaadin-message-avatar',\n  css`\n    :host {\n      --vaadin-avatar-outline-width: 0px; /* stylelint-disable-line length-zero-no-unit */\n      flex-shrink: 0;\n    }\n  `,\n  { moduleId: 'vaadin-message-avatar-styles' },\n);\n\n/**\n * An element used internally by `<vaadin-message>`. Not intended to be used separately.\n *\n * @extends Avatar\n * @private\n */\nclass MessageAvatar extends Avatar {\n  static get is() {\n    return 'vaadin-message-avatar';\n  }\n}\n\ncustomElements.define(MessageAvatar.is, MessageAvatar);\n", "/**\n * @license\n * Copyright (c) 2021 - 2022 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport './vaadin-message-avatar.js';\nimport { html, PolymerElement } from '@polymer/polymer/polymer-element.js';\nimport { ElementMixin } from '@vaadin/component-base/src/element-mixin.js';\nimport { FocusMixin } from '@vaadin/component-base/src/focus-mixin.js';\nimport { ThemableMixin } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\n\n/**\n * `<vaadin-message>` is a Web Component for showing a single message with an author, message and time.\n *\n * ```html\n * <vaadin-message time=\"2021-01-28 10:43\"\n *     user-name = \"Bob Ross\"\n *     user-abbr = \"BR\"\n *     user-img = \"/static/img/avatar.jpg\">There is no real ending. It's just the place where you stop the story.</vaadin-message>\n * ```\n *\n * ### Styling\n *\n * The following shadow DOM parts are available for styling:\n *\n * Part name | Description\n * ----------|----------------\n * `avatar`  | The author's avatar\n * `name`    | Author's name\n * `time`    | When the message was posted\n * `content` | The message itself as a slotted content\n *\n * The following state attributes are available for styling:\n *\n * Attribute    | Description\n * -------------|-------------\n * `focus-ring` | Set when the message is focused using the keyboard.\n * `focused`    | Set when the message is focused.\n *\n * See [Styling Components](https://vaadin.com/docs/latest/styling/custom-theme/styling-components) documentation.\n *\n * ### Internal components\n *\n * In addition to `<vaadin-message>` itself, the following internal\n * components are themable:\n *\n * - `<vaadin-message-avatar>` - has the same API as [`<vaadin-avatar>`](#/elements/vaadin-avatar).\n *\n * @extends HTMLElement\n * @mixes FocusMixin\n * @mixes ThemableMixin\n * @mixes ElementMixin\n */\nclass Message extends FocusMixin(ElementMixin(ThemableMixin(PolymerElement))) {\n  static get properties() {\n    return {\n      /**\n       * Time of sending the message. It is rendered as-is to the part='time' slot,\n       * so the formatting is up to you.\n       */\n      time: {\n        type: String,\n      },\n\n      /**\n       * The name of the user posting the message.\n       * It will be placed in the name part to indicate who has sent the message.\n       * It is also used as a tooltip for the avatar.\n       * Example: `message.userName = \"Jessica Jacobs\";`\n       * @attr {string} user-name\n       */\n      userName: {\n        type: String,\n      },\n\n      /**\n       * The abbreviation of the user.\n       * The abbreviation will be passed on to avatar of the message.\n       * If the user does not have an avatar picture set with `userImg`, `userAbbr` will be shown in the avatar.\n       * Example: `message.userAbbr = \"JJ\";`\n       * @attr {string} user-abbr\n       */\n      userAbbr: {\n        type: String,\n      },\n\n      /**\n       * An URL for a user image.\n       * The image will be used in the avatar component to show who has sent the message.\n       * Example: `message.userImg = \"/static/img/avatar.jpg\";`\n       * @attr {string} user-img\n       */\n      userImg: {\n        type: String,\n      },\n\n      /**\n       * A color index to be used to render the color of the avatar.\n       * With no `userColorIndex` set, the basic avatar color will be used.\n       * By setting a userColorIndex, the component will check if there exists a CSS variable defining the color, and uses it if there is one.\n       * If now CSS variable is found for the color index, the property for the color will not be set.\n       *\n       * Example:\n       * CSS:\n       * ```css\n       * html {\n       *   --vaadin-user-color-1: red;\n       * }\n       * ```\n       *\n       * JavaScript:\n       * ```js\n       * message.userColorIndex = 1;\n       * ```\n       * @attr {number} user-color-index\n       */\n      userColorIndex: {\n        type: Number,\n      },\n    };\n  }\n\n  static get template() {\n    return html`\n      <style>\n        :host {\n          display: flex;\n          flex-direction: row;\n          outline: none;\n        }\n\n        :host([hidden]) {\n          display: none !important;\n        }\n\n        [part='content'] {\n          display: flex;\n          flex-direction: column;\n          flex-grow: 1;\n        }\n\n        [part='header'] {\n          align-items: baseline;\n          display: flex;\n          flex-direction: row;\n          flex-wrap: wrap;\n        }\n\n        [part='name'] {\n          font-weight: 500;\n        }\n\n        [part='message'] {\n          white-space: pre-wrap;\n        }\n      </style>\n      <vaadin-message-avatar\n        part=\"avatar\"\n        name=\"[[userName]]\"\n        abbr=\"[[userAbbr]]\"\n        img=\"[[userImg]]\"\n        color-index=\"[[userColorIndex]]\"\n        tabindex=\"-1\"\n        aria-hidden=\"true\"\n      ></vaadin-message-avatar>\n      <div part=\"content\">\n        <div part=\"header\">\n          <span part=\"name\">[[userName]]</span>\n          <span part=\"time\">[[time]]</span>\n        </div>\n        <div part=\"message\"><slot></slot></div>\n      </div>\n    `;\n  }\n\n  static get is() {\n    return 'vaadin-message';\n  }\n}\n\ncustomElements.define(Message.is, Message);\n\nexport { Message };\n", "/**\n * @license\n * Copyright (c) 2021 - 2022 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport '@polymer/polymer/lib/elements/dom-repeat.js';\nimport { html, PolymerElement } from '@polymer/polymer/polymer-element.js';\nimport { microTask } from '@vaadin/component-base/src/async.js';\nimport { ElementMixin } from '@vaadin/component-base/src/element-mixin.js';\nimport { ThemableMixin } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\nimport { Message } from './vaadin-message.js';\n\n/**\n * `<vaadin-message-list>` is a Web Component for showing an ordered list of messages. The messages are rendered as <vaadin-message>\n *\n * ### Example\n * To create a new message list, add the component to the page:\n * ```html\n * <vaadin-message-list></vaadin-message-list>\n * ```\n *\n * Provide the messages to the message list with the `items` property.\n * ```js\n * document.querySelector('vaadin-message-list').items = [\n *   { text: 'Hello list', time: 'yesterday', userName: 'Matt Mambo', userAbbr: 'MM', userColorIndex: 1 },\n *   { text: 'Another message', time: 'right now', userName: 'Linsey Listy', userAbbr: 'LL', userColorIndex: 2, userImg: '/static/img/avatar.jpg' }\n * ];\n * ```\n *\n * ### Styling\n *\n * The following shadow DOM parts are available for styling:\n *\n * Part name | Description\n * ----------|----------------\n * `list`    | The container wrapping messages.\n *\n * See [Styling Components](https://vaadin.com/docs/latest/styling/custom-theme/styling-components) documentation.\n *\n * @extends HTMLElement\n * @mixes ThemableMixin\n * @mixes ElementMixin\n */\nclass MessageList extends ElementMixin(ThemableMixin(PolymerElement)) {\n  static get is() {\n    return 'vaadin-message-list';\n  }\n\n  static get properties() {\n    return {\n      /**\n       * An array of objects which will be rendered as messages.\n       * The message objects can have the following properties:\n       * ```js\n       * Array<{\n       *   text: string,\n       *   time: string,\n       *   userName: string,\n       *   userAbbr: string,\n       *   userImg: string,\n       *   userColorIndex: number,\n       *   theme: string\n       * }>\n       * ```\n       */\n      items: {\n        type: Array,\n        value: () => [],\n        observer: '_itemsChanged',\n      },\n    };\n  }\n\n  static get template() {\n    return html`\n      <style>\n        :host {\n          display: block;\n          overflow: auto;\n        }\n\n        :host([hidden]) {\n          display: none !important;\n        }\n      </style>\n      <div part=\"list\" role=\"list\">\n        <template is=\"dom-repeat\" items=\"[[items]]\">\n          <vaadin-message\n            time=\"[[item.time]]\"\n            user-name=\"[[item.userName]]\"\n            user-abbr=\"[[item.userAbbr]]\"\n            user-img=\"[[item.userImg]]\"\n            user-color-index=\"[[item.userColorIndex]]\"\n            theme$=\"[[item.theme]]\"\n            role=\"listitem\"\n            on-focusin=\"_handleFocusEvent\"\n            >[[item.text]]</vaadin-message\n          >\n        </template>\n      </div>\n    `;\n  }\n\n  /** @protected */\n  ready() {\n    super.ready();\n\n    // Make screen readers announce new messages\n    this.setAttribute('aria-relevant', 'additions');\n    this.setAttribute('role', 'log');\n\n    // Keyboard navi\n    this.addEventListener('keydown', (e) => this._onKeydown(e));\n  }\n\n  /** @protected */\n  get _messages() {\n    return Array.from(this.shadowRoot.querySelectorAll('vaadin-message'));\n  }\n\n  /** @private */\n  _itemsChanged(newVal, oldVal) {\n    const focusedIndex = this._getIndexOfFocusableElement();\n    if (newVal && newVal.length) {\n      const moreItems = !oldVal || newVal.length > oldVal.length;\n      const closeToBottom = this.scrollHeight < this.clientHeight + this.scrollTop + 50;\n      microTask.run(() => {\n        this._setTabIndexesByIndex(focusedIndex);\n        if (moreItems && closeToBottom) {\n          this._scrollToLastMessage();\n        }\n      });\n    }\n  }\n\n  /** @private */\n  _scrollToLastMessage() {\n    if (this.items.length > 0) {\n      this.scrollTop = this.scrollHeight - this.clientHeight;\n    }\n  }\n\n  /**\n   * @param {!KeyboardEvent} event\n   * @protected\n   */\n  _onKeydown(event) {\n    if (event.metaKey || event.ctrlKey) {\n      return;\n    }\n\n    // Get index of the item that was focused when event happened\n    const target = event.composedPath()[0];\n    let currentIndex = this._messages.indexOf(target);\n\n    switch (event.key) {\n      case 'ArrowUp':\n        currentIndex -= 1;\n        break;\n      case 'ArrowDown':\n        currentIndex += 1;\n        break;\n      case 'Home':\n        currentIndex = 0;\n        break;\n      case 'End':\n        currentIndex = this._messages.length - 1;\n        break;\n      default:\n        return; // Nothing to do\n    }\n    if (currentIndex < 0) {\n      currentIndex = this._messages.length - 1;\n    }\n    if (currentIndex > this._messages.length - 1) {\n      currentIndex = 0;\n    }\n    this._focus(currentIndex);\n    event.preventDefault();\n  }\n\n  /**\n   * @param {number} idx\n   * @protected\n   */\n  _focus(idx) {\n    const target = this._messages[idx];\n    target.focus();\n  }\n\n  /** @private */\n  _handleFocusEvent(e) {\n    const target = e.composedPath().find((node) => node instanceof Message);\n    this._setTabIndexesByMessage(target);\n  }\n\n  /**\n   * @param {number} idx\n   * @protected\n   */\n  _setTabIndexesByIndex(index) {\n    const message = this._messages[index] || this._messages[0];\n    this._setTabIndexesByMessage(message);\n  }\n\n  /** @private */\n  _setTabIndexesByMessage(message) {\n    this._messages.forEach((e) => {\n      e.tabIndex = e === message ? 0 : -1;\n    });\n  }\n\n  /** @private */\n  _getIndexOfFocusableElement() {\n    const index = this._messages.findIndex((e) => e.tabIndex === 0);\n    return index !== -1 ? index : 0;\n  }\n}\n\ncustomElements.define(MessageList.is, MessageList);\n\nexport { MessageList };\n"],
  "mappings": "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",
  "names": []
}
