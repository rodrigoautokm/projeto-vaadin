{
  "version": 3,
  "sources": ["../../@vaadin/component-base/src/dom-utils.js"],
  "sourcesContent": ["/**\n * @license\n * Copyright (c) 2021 - 2022 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * Returns an array of ancestor root nodes for the given node.\n *\n * A root node is either a document node or a document fragment node (Shadow Root).\n * The array is collected by a bottom-up DOM traversing that starts with the given node\n * and involves both the light DOM and ancestor shadow DOM trees.\n *\n * @param {Node} node\n * @return {Node[]}\n */\nexport function getAncestorRootNodes(node) {\n  const result = [];\n\n  while (node) {\n    if (node.nodeType === Node.DOCUMENT_NODE) {\n      result.push(node);\n      break;\n    }\n\n    if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n      result.push(node);\n      node = node.host;\n      continue;\n    }\n\n    if (node.assignedSlot) {\n      node = node.assignedSlot;\n      continue;\n    }\n\n    node = node.parentNode;\n  }\n\n  return result;\n}\n\n/**\n * @param {string} value\n * @return {Set<string>}\n */\nfunction deserializeAttributeValue(value) {\n  if (!value) {\n    return new Set();\n  }\n\n  return new Set(value.split(' '));\n}\n\n/**\n * @param {Set<string>} values\n * @return {string}\n */\nfunction serializeAttributeValue(values) {\n  return [...values].join(' ');\n}\n\n/**\n * Adds a value to an attribute containing space-delimited values.\n *\n * @param {HTMLElement} element\n * @param {string} attr\n * @param {string} value\n */\nexport function addValueToAttribute(element, attr, value) {\n  const values = deserializeAttributeValue(element.getAttribute(attr));\n  values.add(value);\n  element.setAttribute(attr, serializeAttributeValue(values));\n}\n\n/**\n * Removes a value from an attribute containing space-delimited values.\n * If the value is the last one, the whole attribute is removed.\n *\n * @param {HTMLElement} element\n * @param {string} attr\n * @param {string} value\n */\nexport function removeValueFromAttribute(element, attr, value) {\n  const values = deserializeAttributeValue(element.getAttribute(attr));\n  values.delete(value);\n  if (values.size === 0) {\n    element.removeAttribute(attr);\n    return;\n  }\n  element.setAttribute(attr, serializeAttributeValue(values));\n}\n"],
  "mappings": ";AAgBO,SAAS,qBAAqB,MAAM;AACzC,QAAM,SAAS,CAAC;AAEhB,SAAO,MAAM;AACX,QAAI,KAAK,aAAa,KAAK,eAAe;AACxC,aAAO,KAAK,IAAI;AAChB;AAAA,IACF;AAEA,QAAI,KAAK,aAAa,KAAK,wBAAwB;AACjD,aAAO,KAAK,IAAI;AAChB,aAAO,KAAK;AACZ;AAAA,IACF;AAEA,QAAI,KAAK,cAAc;AACrB,aAAO,KAAK;AACZ;AAAA,IACF;AAEA,WAAO,KAAK;AAAA,EACd;AAEA,SAAO;AACT;AAMA,SAAS,0BAA0B,OAAO;AACxC,MAAI,CAAC,OAAO;AACV,WAAO,oBAAI,IAAI;AAAA,EACjB;AAEA,SAAO,IAAI,IAAI,MAAM,MAAM,GAAG,CAAC;AACjC;AAMA,SAAS,wBAAwB,QAAQ;AACvC,SAAO,CAAC,GAAG,MAAM,EAAE,KAAK,GAAG;AAC7B;AASO,SAAS,oBAAoB,SAAS,MAAM,OAAO;AACxD,QAAM,SAAS,0BAA0B,QAAQ,aAAa,IAAI,CAAC;AACnE,SAAO,IAAI,KAAK;AAChB,UAAQ,aAAa,MAAM,wBAAwB,MAAM,CAAC;AAC5D;AAUO,SAAS,yBAAyB,SAAS,MAAM,OAAO;AAC7D,QAAM,SAAS,0BAA0B,QAAQ,aAAa,IAAI,CAAC;AACnE,SAAO,OAAO,KAAK;AACnB,MAAI,OAAO,SAAS,GAAG;AACrB,YAAQ,gBAAgB,IAAI;AAC5B;AAAA,EACF;AACA,UAAQ,aAAa,MAAM,wBAAwB,MAAM,CAAC;AAC5D;",
  "names": []
}
