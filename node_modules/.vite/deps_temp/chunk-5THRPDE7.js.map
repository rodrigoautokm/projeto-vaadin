{
  "version": 3,
  "sources": ["../../@vaadin/field-base/src/delegate-state-mixin.js"],
  "sourcesContent": ["/**\n * @license\n * Copyright (c) 2021 - 2022 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { dedupingMixin } from '@polymer/polymer/lib/utils/mixin.js';\n\n/**\n * A mixin to delegate properties and attributes to a target element.\n *\n * @polymerMixin\n */\nexport const DelegateStateMixin = dedupingMixin(\n  (superclass) =>\n    class DelegateStateMixinClass extends superclass {\n      static get properties() {\n        return {\n          /**\n           * A target element to which attributes and properties are delegated.\n           * @protected\n           */\n          stateTarget: {\n            type: Object,\n            observer: '_stateTargetChanged',\n          },\n        };\n      }\n\n      /**\n       * An array of the host attributes to delegate to the target element.\n       */\n      static get delegateAttrs() {\n        return [];\n      }\n\n      /**\n       * An array of the host properties to delegate to the target element.\n       */\n      static get delegateProps() {\n        return [];\n      }\n\n      /** @protected */\n      ready() {\n        super.ready();\n\n        this._createDelegateAttrsObserver();\n        this._createDelegatePropsObserver();\n      }\n\n      /** @protected */\n      _stateTargetChanged(target) {\n        if (target) {\n          this._ensureAttrsDelegated();\n          this._ensurePropsDelegated();\n        }\n      }\n\n      /** @protected */\n      _createDelegateAttrsObserver() {\n        this._createMethodObserver(`_delegateAttrsChanged(${this.constructor.delegateAttrs.join(', ')})`);\n      }\n\n      /** @protected */\n      _createDelegatePropsObserver() {\n        this._createMethodObserver(`_delegatePropsChanged(${this.constructor.delegateProps.join(', ')})`);\n      }\n\n      /** @protected */\n      _ensureAttrsDelegated() {\n        this.constructor.delegateAttrs.forEach((name) => {\n          this._delegateAttribute(name, this[name]);\n        });\n      }\n\n      /** @protected */\n      _ensurePropsDelegated() {\n        this.constructor.delegateProps.forEach((name) => {\n          this._delegateProperty(name, this[name]);\n        });\n      }\n\n      /** @protected */\n      _delegateAttrsChanged(...values) {\n        this.constructor.delegateAttrs.forEach((name, index) => {\n          this._delegateAttribute(name, values[index]);\n        });\n      }\n\n      /** @protected */\n      _delegatePropsChanged(...values) {\n        this.constructor.delegateProps.forEach((name, index) => {\n          this._delegateProperty(name, values[index]);\n        });\n      }\n\n      /** @protected */\n      _delegateAttribute(name, value) {\n        if (!this.stateTarget) {\n          return;\n        }\n\n        if (name === 'invalid') {\n          this._delegateAttribute('aria-invalid', value ? 'true' : false);\n        }\n\n        if (typeof value === 'boolean') {\n          this.stateTarget.toggleAttribute(name, value);\n        } else if (value) {\n          this.stateTarget.setAttribute(name, value);\n        } else {\n          this.stateTarget.removeAttribute(name);\n        }\n      }\n\n      /** @protected */\n      _delegateProperty(name, value) {\n        if (!this.stateTarget) {\n          return;\n        }\n\n        this.stateTarget[name] = value;\n      }\n    },\n);\n"],
  "mappings": ";;;;;AAYO,IAAM,qBAAqB;AAAA,EAChC,CAAC,eACC,MAAM,gCAAgC,WAAW;AAAA,IAC/C,WAAW,aAAa;AACtB,aAAO;AAAA,QAKL,aAAa;AAAA,UACX,MAAM;AAAA,UACN,UAAU;AAAA,QACZ;AAAA,MACF;AAAA,IACF;AAAA,IAKA,WAAW,gBAAgB;AACzB,aAAO,CAAC;AAAA,IACV;AAAA,IAKA,WAAW,gBAAgB;AACzB,aAAO,CAAC;AAAA,IACV;AAAA,IAGA,QAAQ;AACN,YAAM,MAAM;AAEZ,WAAK,6BAA6B;AAClC,WAAK,6BAA6B;AAAA,IACpC;AAAA,IAGA,oBAAoB,QAAQ;AAC1B,UAAI,QAAQ;AACV,aAAK,sBAAsB;AAC3B,aAAK,sBAAsB;AAAA,MAC7B;AAAA,IACF;AAAA,IAGA,+BAA+B;AAC7B,WAAK,sBAAsB,yBAAyB,KAAK,YAAY,cAAc,KAAK,IAAI,IAAI;AAAA,IAClG;AAAA,IAGA,+BAA+B;AAC7B,WAAK,sBAAsB,yBAAyB,KAAK,YAAY,cAAc,KAAK,IAAI,IAAI;AAAA,IAClG;AAAA,IAGA,wBAAwB;AACtB,WAAK,YAAY,cAAc,QAAQ,CAAC,SAAS;AAC/C,aAAK,mBAAmB,MAAM,KAAK,KAAK;AAAA,MAC1C,CAAC;AAAA,IACH;AAAA,IAGA,wBAAwB;AACtB,WAAK,YAAY,cAAc,QAAQ,CAAC,SAAS;AAC/C,aAAK,kBAAkB,MAAM,KAAK,KAAK;AAAA,MACzC,CAAC;AAAA,IACH;AAAA,IAGA,yBAAyB,QAAQ;AAC/B,WAAK,YAAY,cAAc,QAAQ,CAAC,MAAM,UAAU;AACtD,aAAK,mBAAmB,MAAM,OAAO,MAAM;AAAA,MAC7C,CAAC;AAAA,IACH;AAAA,IAGA,yBAAyB,QAAQ;AAC/B,WAAK,YAAY,cAAc,QAAQ,CAAC,MAAM,UAAU;AACtD,aAAK,kBAAkB,MAAM,OAAO,MAAM;AAAA,MAC5C,CAAC;AAAA,IACH;AAAA,IAGA,mBAAmB,MAAM,OAAO;AAC9B,UAAI,CAAC,KAAK,aAAa;AACrB;AAAA,MACF;AAEA,UAAI,SAAS,WAAW;AACtB,aAAK,mBAAmB,gBAAgB,QAAQ,SAAS,KAAK;AAAA,MAChE;AAEA,UAAI,OAAO,UAAU,WAAW;AAC9B,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAAA,MAC9C,WAAW,OAAO;AAChB,aAAK,YAAY,aAAa,MAAM,KAAK;AAAA,MAC3C,OAAO;AACL,aAAK,YAAY,gBAAgB,IAAI;AAAA,MACvC;AAAA,IACF;AAAA,IAGA,kBAAkB,MAAM,OAAO;AAC7B,UAAI,CAAC,KAAK,aAAa;AACrB;AAAA,MACF;AAEA,WAAK,YAAY,QAAQ;AAAA,IAC3B;AAAA,EACF;AACJ;",
  "names": []
}
