{
  "version": 3,
  "sources": ["../../@vaadin/component-base/src/media-query-controller.js"],
  "sourcesContent": ["/**\n * @license\n * Copyright (c) 2021 - 2022 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * A controller for listening on media query changes.\n */\nexport class MediaQueryController {\n  constructor(query, callback) {\n    /**\n     * The CSS media query to evaluate.\n     *\n     * @type {string}\n     * @protected\n     */\n    this.query = query;\n\n    /**\n     * Function to call when media query changes.\n     *\n     * @type {Function}\n     * @protected\n     */\n    this.callback = callback;\n\n    this._boundQueryHandler = this._queryHandler.bind(this);\n  }\n\n  hostConnected() {\n    this._removeListener();\n\n    this._mediaQuery = window.matchMedia(this.query);\n\n    this._addListener();\n\n    this._queryHandler(this._mediaQuery);\n  }\n\n  hostDisconnected() {\n    this._removeListener();\n  }\n\n  /** @private */\n  _addListener() {\n    if (this._mediaQuery) {\n      this._mediaQuery.addListener(this._boundQueryHandler);\n    }\n  }\n\n  /** @private */\n  _removeListener() {\n    if (this._mediaQuery) {\n      this._mediaQuery.removeListener(this._boundQueryHandler);\n    }\n\n    this._mediaQuery = null;\n  }\n\n  /** @private */\n  _queryHandler(mediaQuery) {\n    if (typeof this.callback === 'function') {\n      this.callback(mediaQuery.matches);\n    }\n  }\n}\n"],
  "mappings": ";AASO,IAAM,uBAAN,MAA2B;AAAA,EAChC,YAAY,OAAO,UAAU;AAO3B,SAAK,QAAQ;AAQb,SAAK,WAAW;AAEhB,SAAK,qBAAqB,KAAK,cAAc,KAAK,IAAI;AAAA,EACxD;AAAA,EAEA,gBAAgB;AACd,SAAK,gBAAgB;AAErB,SAAK,cAAc,OAAO,WAAW,KAAK,KAAK;AAE/C,SAAK,aAAa;AAElB,SAAK,cAAc,KAAK,WAAW;AAAA,EACrC;AAAA,EAEA,mBAAmB;AACjB,SAAK,gBAAgB;AAAA,EACvB;AAAA,EAGA,eAAe;AACb,QAAI,KAAK,aAAa;AACpB,WAAK,YAAY,YAAY,KAAK,kBAAkB;AAAA,IACtD;AAAA,EACF;AAAA,EAGA,kBAAkB;AAChB,QAAI,KAAK,aAAa;AACpB,WAAK,YAAY,eAAe,KAAK,kBAAkB;AAAA,IACzD;AAEA,SAAK,cAAc;AAAA,EACrB;AAAA,EAGA,cAAc,YAAY;AACxB,QAAI,OAAO,KAAK,aAAa,YAAY;AACvC,WAAK,SAAS,WAAW,OAAO;AAAA,IAClC;AAAA,EACF;AACF;",
  "names": []
}
