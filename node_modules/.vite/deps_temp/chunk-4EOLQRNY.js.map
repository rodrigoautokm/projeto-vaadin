{
  "version": 3,
  "sources": ["../../@vaadin/grid/src/vaadin-grid-data-provider-mixin.js", "../../@vaadin/grid/src/vaadin-grid-styles.js", "../../@vaadin/grid/src/vaadin-grid-a11y-mixin.js", "../../@vaadin/grid/src/array-data-provider.js", "../../@vaadin/grid/src/vaadin-grid-array-data-provider-mixin.js", "../../@vaadin/grid/src/vaadin-grid-column-reordering-mixin.js", "../../@vaadin/grid/src/vaadin-grid-column-resizing-mixin.js", "../../@vaadin/grid/src/vaadin-grid-drag-and-drop-mixin.js", "../../@vaadin/grid/src/vaadin-grid-dynamic-columns-mixin.js", "../../@vaadin/grid/src/vaadin-grid-event-context-mixin.js", "../../@vaadin/grid/src/vaadin-grid-filter-mixin.js", "../../@vaadin/grid/src/vaadin-grid-keyboard-navigation-mixin.js", "../../@vaadin/grid/src/vaadin-grid-row-details-mixin.js", "../../@vaadin/grid/src/vaadin-grid-scroll-mixin.js", "../../@vaadin/grid/src/vaadin-grid-selection-mixin.js", "../../@vaadin/grid/src/vaadin-grid-sort-mixin.js", "../../@vaadin/grid/src/vaadin-grid-styling-mixin.js", "../../@vaadin/grid/src/vaadin-grid.js"],
  "sourcesContent": ["/**\n * @license\n * Copyright (c) 2016 - 2022 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { timeOut } from '@vaadin/component-base/src/async.js';\nimport { Debouncer } from '@vaadin/component-base/src/debounce.js';\n\n/**\n * @private\n */\nexport const ItemCache = class ItemCache {\n  /**\n   * @param {!HTMLElement} grid\n   * @param {!ItemCache | undefined} parentCache\n   * @param {!GridItem | undefined} parentItem\n   */\n  constructor(grid, parentCache, parentItem) {\n    /** @type {!HTMLElement} */\n    this.grid = grid;\n    /** @type {!ItemCache | undefined} */\n    this.parentCache = parentCache;\n    /** @type {!GridItem | undefined} */\n    this.parentItem = parentItem;\n    /** @type {object} */\n    this.itemCaches = {};\n    /** @type {object} */\n    this.items = {};\n    /** @type {number} */\n    this.effectiveSize = 0;\n    /** @type {number} */\n    this.size = 0;\n    /** @type {object} */\n    this.pendingRequests = {};\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isLoading() {\n    return Boolean(\n      Object.keys(this.pendingRequests).length ||\n        Object.keys(this.itemCaches).filter((index) => {\n          return this.itemCaches[index].isLoading();\n        })[0],\n    );\n  }\n\n  /**\n   * @param {number} index\n   * @return {!GridItem | undefined}\n   */\n  getItemForIndex(index) {\n    const { cache, scaledIndex } = this.getCacheAndIndex(index);\n    return cache.items[scaledIndex];\n  }\n\n  updateSize() {\n    this.effectiveSize =\n      !this.parentItem || this.grid._isExpanded(this.parentItem)\n        ? this.size +\n          Object.keys(this.itemCaches).reduce((prev, curr) => {\n            const subCache = this.itemCaches[curr];\n            subCache.updateSize();\n            return prev + subCache.effectiveSize;\n          }, 0)\n        : 0;\n  }\n\n  /**\n   * @param {number} scaledIndex\n   */\n  ensureSubCacheForScaledIndex(scaledIndex) {\n    if (!this.itemCaches[scaledIndex]) {\n      const subCache = new ItemCache(this.grid, this, this.items[scaledIndex]);\n      this.itemCaches[scaledIndex] = subCache;\n      this.grid._loadPage(0, subCache);\n    }\n  }\n\n  /**\n   * @param {number} index\n   * @return {{cache: !ItemCache, scaledIndex: number}}\n   */\n  getCacheAndIndex(index) {\n    let thisLevelIndex = index;\n    const keys = Object.keys(this.itemCaches);\n    for (let i = 0; i < keys.length; i++) {\n      const expandedIndex = Number(keys[i]);\n      const subCache = this.itemCaches[expandedIndex];\n      if (thisLevelIndex <= expandedIndex) {\n        return { cache: this, scaledIndex: thisLevelIndex };\n      } else if (thisLevelIndex <= expandedIndex + subCache.effectiveSize) {\n        return subCache.getCacheAndIndex(thisLevelIndex - expandedIndex - 1);\n      }\n      thisLevelIndex -= subCache.effectiveSize;\n    }\n    return { cache: this, scaledIndex: thisLevelIndex };\n  }\n};\n\n/**\n * @polymerMixin\n */\nexport const DataProviderMixin = (superClass) =>\n  class DataProviderMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * The number of root-level items in the grid.\n         * @attr {number} size\n         * @type {number}\n         */\n        size: {\n          type: Number,\n          notify: true,\n        },\n\n        /**\n         * Number of items fetched at a time from the dataprovider.\n         * @attr {number} page-size\n         * @type {number}\n         */\n        pageSize: {\n          type: Number,\n          value: 50,\n          observer: '_pageSizeChanged',\n        },\n\n        /**\n         * Function that provides items lazily. Receives arguments `params`, `callback`\n         *\n         * `params.page` Requested page index\n         *\n         * `params.pageSize` Current page size\n         *\n         * `params.filters` Currently applied filters\n         *\n         * `params.sortOrders` Currently applied sorting orders\n         *\n         * `params.parentItem` When tree is used, and sublevel items\n         * are requested, reference to parent item of the requested sublevel.\n         * Otherwise `undefined`.\n         *\n         * `callback(items, size)` Callback function with arguments:\n         *   - `items` Current page of items\n         *   - `size` Total number of items. When tree sublevel items\n         *     are requested, total number of items in the requested sublevel.\n         *     Optional when tree is not used, required for tree.\n         *\n         * @type {GridDataProvider | null | undefined}\n         */\n        dataProvider: {\n          type: Object,\n          notify: true,\n          observer: '_dataProviderChanged',\n        },\n\n        /**\n         * `true` while data is being requested from the data provider.\n         */\n        loading: {\n          type: Boolean,\n          notify: true,\n          readOnly: true,\n          reflectToAttribute: true,\n        },\n\n        /**\n         * @type {!ItemCache}\n         * @protected\n         */\n        _cache: {\n          type: Object,\n          value() {\n            const cache = new ItemCache(this);\n            return cache;\n          },\n        },\n\n        /**\n         * @protected\n         */\n        _hasData: {\n          type: Boolean,\n          value: false,\n        },\n\n        /**\n         * Path to an item sub-property that indicates whether the item has child items.\n         * @attr {string} item-has-children-path\n         */\n        itemHasChildrenPath: {\n          type: String,\n          value: 'children',\n        },\n\n        /**\n         * Path to an item sub-property that identifies the item.\n         * @attr {string} item-id-path\n         */\n        itemIdPath: {\n          type: String,\n          value: null,\n        },\n\n        /**\n         * An array that contains the expanded items.\n         * @type {!Array<!GridItem>}\n         */\n        expandedItems: {\n          type: Object,\n          notify: true,\n          value: () => [],\n        },\n\n        /**\n         * @private\n         */\n        __expandedKeys: {\n          type: Object,\n          computed: '__computeExpandedKeys(itemIdPath, expandedItems.*)',\n        },\n      };\n    }\n\n    static get observers() {\n      return ['_sizeChanged(size)', '_expandedItemsChanged(expandedItems.*)'];\n    }\n\n    /** @private */\n    _sizeChanged(size) {\n      const delta = size - this._cache.size;\n      this._cache.size += delta;\n      this._cache.effectiveSize += delta;\n      this._effectiveSize = this._cache.effectiveSize;\n    }\n\n    /**\n     * @param {number} index\n     * @param {HTMLElement} el\n     * @protected\n     */\n    _getItem(index, el) {\n      if (index >= this._effectiveSize) {\n        return;\n      }\n\n      el.index = index;\n      const { cache, scaledIndex } = this._cache.getCacheAndIndex(index);\n      const item = cache.items[scaledIndex];\n      if (item) {\n        el.toggleAttribute('loading', false);\n        this._updateItem(el, item);\n        if (this._isExpanded(item)) {\n          cache.ensureSubCacheForScaledIndex(scaledIndex);\n        }\n      } else {\n        el.toggleAttribute('loading', true);\n        this._loadPage(this._getPageForIndex(scaledIndex), cache);\n      }\n    }\n\n    /**\n     * Returns a value that identifies the item. Uses `itemIdPath` if available.\n     * Can be customized by overriding.\n     * @param {!GridItem} item\n     * @return {!GridItem | !unknown}\n     */\n    getItemId(item) {\n      return this.itemIdPath ? this.get(this.itemIdPath, item) : item;\n    }\n\n    /**\n     * @param {!GridItem} item\n     * @return {boolean}\n     * @protected\n     */\n    _isExpanded(item) {\n      return this.__expandedKeys.has(this.getItemId(item));\n    }\n\n    /** @private */\n    _expandedItemsChanged() {\n      this._cache.updateSize();\n      this._effectiveSize = this._cache.effectiveSize;\n      this.__updateVisibleRows();\n    }\n\n    /** @private */\n    __computeExpandedKeys(itemIdPath, expandedItems) {\n      const expanded = expandedItems.base || [];\n      const expandedKeys = new Set();\n      expanded.forEach((item) => {\n        expandedKeys.add(this.getItemId(item));\n      });\n\n      return expandedKeys;\n    }\n\n    /**\n     * Expands the given item tree.\n     * @param {!GridItem} item\n     */\n    expandItem(item) {\n      if (!this._isExpanded(item)) {\n        this.expandedItems = [...this.expandedItems, item];\n      }\n    }\n\n    /**\n     * Collapses the given item tree.\n     * @param {!GridItem} item\n     */\n    collapseItem(item) {\n      if (this._isExpanded(item)) {\n        this.expandedItems = this.expandedItems.filter((i) => !this._itemsEqual(i, item));\n      }\n    }\n\n    /**\n     * @param {number} index\n     * @return {number}\n     * @protected\n     */\n    _getIndexLevel(index) {\n      let { cache } = this._cache.getCacheAndIndex(index);\n      let level = 0;\n      while (cache.parentCache) {\n        cache = cache.parentCache;\n        level += 1;\n      }\n      return level;\n    }\n\n    /**\n     * @param {number} page\n     * @param {ItemCache} cache\n     * @protected\n     */\n    _loadPage(page, cache) {\n      // Make sure same page isn't requested multiple times.\n      if (!cache.pendingRequests[page] && this.dataProvider) {\n        this._setLoading(true);\n        cache.pendingRequests[page] = true;\n        const params = {\n          page,\n          pageSize: this.pageSize,\n          sortOrders: this._mapSorters(),\n          filters: this._mapFilters(),\n          parentItem: cache.parentItem,\n        };\n\n        this.dataProvider(params, (items, size) => {\n          if (size !== undefined) {\n            cache.size = size;\n          } else if (params.parentItem) {\n            cache.size = items.length;\n          }\n\n          const currentItems = Array.from(this.$.items.children).map((row) => row._item);\n\n          // Populate the cache with new items\n          items.forEach((item, itemsIndex) => {\n            const itemIndex = page * this.pageSize + itemsIndex;\n            cache.items[itemIndex] = item;\n            if (this._isExpanded(item) && currentItems.indexOf(item) > -1) {\n              // Force synchronous data request for expanded item sub-cache\n              cache.ensureSubCacheForScaledIndex(itemIndex);\n            }\n          });\n\n          this._hasData = true;\n\n          delete cache.pendingRequests[page];\n\n          this._debouncerApplyCachedData = Debouncer.debounce(this._debouncerApplyCachedData, timeOut.after(0), () => {\n            this._setLoading(false);\n            this._cache.updateSize();\n            this._effectiveSize = this._cache.effectiveSize;\n\n            Array.from(this.$.items.children)\n              .filter((row) => !row.hidden)\n              .forEach((row) => {\n                const cachedItem = this._cache.getItemForIndex(row.index);\n                if (cachedItem) {\n                  this._getItem(row.index, row);\n                }\n              });\n\n            this.__scrollToPendingIndex();\n          });\n\n          if (!this._cache.isLoading()) {\n            this._debouncerApplyCachedData.flush();\n          }\n\n          this.__itemsReceived();\n        });\n      }\n    }\n\n    /**\n     * @param {number} index\n     * @return {number}\n     * @private\n     */\n    _getPageForIndex(index) {\n      return Math.floor(index / this.pageSize);\n    }\n\n    /**\n     * Clears the cached pages and reloads data from dataprovider when needed.\n     */\n    clearCache() {\n      this._cache = new ItemCache(this);\n      this._cache.size = this.size || 0;\n      this._cache.updateSize();\n      this._hasData = false;\n      this.__updateVisibleRows();\n\n      if (!this._effectiveSize) {\n        this._loadPage(0, this._cache);\n      }\n    }\n\n    /** @private */\n    _pageSizeChanged(pageSize, oldPageSize) {\n      if (oldPageSize !== undefined && pageSize !== oldPageSize) {\n        this.clearCache();\n      }\n    }\n\n    /** @protected */\n    _checkSize() {\n      if (this.size === undefined && this._effectiveSize === 0) {\n        console.warn(\n          'The <vaadin-grid> needs the total number of items' +\n            ' in order to display rows. Set the total number of items' +\n            ' to the `size` property, or provide the total number of items' +\n            ' in the second argument of the `dataProvider`\u2019s `callback` call.',\n        );\n      }\n    }\n\n    /** @private */\n    _dataProviderChanged(dataProvider, oldDataProvider) {\n      if (oldDataProvider !== undefined) {\n        this.clearCache();\n      }\n\n      this._ensureFirstPageLoaded();\n\n      this._debouncerCheckSize = Debouncer.debounce(\n        this._debouncerCheckSize,\n        timeOut.after(2000),\n        this._checkSize.bind(this),\n      );\n    }\n\n    /** @protected */\n    _ensureFirstPageLoaded() {\n      if (!this._hasData) {\n        // Load data before adding rows to make sure they have content when\n        // rendered for the first time.\n        this._loadPage(0, this._cache);\n      }\n    }\n\n    /**\n     * @param {!GridItem} item1\n     * @param {!GridItem} item2\n     * @return {boolean}\n     * @protected\n     */\n    _itemsEqual(item1, item2) {\n      return this.getItemId(item1) === this.getItemId(item2);\n    }\n\n    /**\n     * @param {!GridItem} item\n     * @param {!Array<!GridItem>} array\n     * @return {number}\n     * @protected\n     */\n    _getItemIndexInArray(item, array) {\n      let result = -1;\n      array.forEach((i, idx) => {\n        if (this._itemsEqual(i, item)) {\n          result = idx;\n        }\n      });\n      return result;\n    }\n\n    scrollToIndex(index) {\n      super.scrollToIndex(index);\n      if (!isNaN(index) && (this._cache.isLoading() || !this.clientHeight)) {\n        this.__pendingScrollToIndex = index;\n      }\n    }\n\n    /** @private */\n    __scrollToPendingIndex() {\n      if (this.__pendingScrollToIndex && this.$.items.children.length) {\n        const index = this.__pendingScrollToIndex;\n        delete this.__pendingScrollToIndex;\n        this.scrollToIndex(index);\n      }\n    }\n\n    /**\n     * Fired when the `expandedItems` property changes.\n     *\n     * @event expanded-items-changed\n     */\n\n    /**\n     * Fired when the `loading` property changes.\n     *\n     * @event loading-changed\n     */\n  };\n", "/**\n * @license\n * Copyright (c) 2016 - 2022 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { css, registerStyles } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\n\nregisterStyles(\n  'vaadin-grid',\n  css`\n    @keyframes vaadin-grid-appear {\n      to {\n        opacity: 1;\n      }\n    }\n\n    :host {\n      display: block;\n      animation: 1ms vaadin-grid-appear;\n      height: 400px;\n      flex: 1 1 auto;\n      align-self: stretch;\n      position: relative;\n    }\n\n    :host([hidden]) {\n      display: none !important;\n    }\n\n    :host([disabled]) {\n      pointer-events: none;\n    }\n\n    #scroller {\n      display: block;\n      transform: translateY(0);\n      width: auto;\n      height: auto;\n      position: absolute;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n    }\n\n    :host([all-rows-visible]) {\n      height: auto;\n      align-self: flex-start;\n      flex-grow: 0;\n      width: 100%;\n    }\n\n    :host([all-rows-visible]) #scroller {\n      width: 100%;\n      height: 100%;\n      position: relative;\n    }\n\n    :host([all-rows-visible]) #items {\n      min-height: 1px;\n    }\n\n    #table {\n      display: flex;\n      flex-direction: column;\n      width: 100%;\n      height: 100%;\n      overflow: auto;\n      position: relative;\n      outline: none;\n      /* Workaround for a Desktop Safari bug: new stacking context here prevents the scrollbar from getting hidden */\n      z-index: 0;\n    }\n\n    #header,\n    #footer {\n      display: block;\n      position: -webkit-sticky;\n      position: sticky;\n      left: 0;\n      overflow: visible;\n      width: 100%;\n      z-index: 1;\n    }\n\n    #header {\n      top: 0;\n    }\n\n    th {\n      text-align: inherit;\n    }\n\n    /* Safari doesn't work with \"inherit\" */\n    [safari] th {\n      text-align: initial;\n    }\n\n    #footer {\n      bottom: 0;\n    }\n\n    #items {\n      flex-grow: 1;\n      flex-shrink: 0;\n      display: block;\n      position: -webkit-sticky;\n      position: sticky;\n      width: 100%;\n      left: 0;\n      overflow: visible;\n    }\n\n    [part~='row'] {\n      display: flex;\n      width: 100%;\n      box-sizing: border-box;\n      margin: 0;\n    }\n\n    [part~='row'][loading] [part~='body-cell'] ::slotted(vaadin-grid-cell-content) {\n      opacity: 0;\n    }\n\n    #items [part~='row'] {\n      position: absolute;\n    }\n\n    #items [part~='row']:empty {\n      height: 100%;\n    }\n\n    [part~='cell']:not([part~='details-cell']) {\n      flex-shrink: 0;\n      flex-grow: 1;\n      box-sizing: border-box;\n      display: flex;\n      width: 100%;\n      position: relative;\n      align-items: center;\n      padding: 0;\n      white-space: nowrap;\n    }\n\n    [part~='details-cell'] {\n      position: absolute;\n      bottom: 0;\n      width: 100%;\n      box-sizing: border-box;\n      padding: 0;\n    }\n\n    [part~='cell'] ::slotted(vaadin-grid-cell-content) {\n      display: block;\n      width: 100%;\n      box-sizing: border-box;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    [hidden] {\n      display: none !important;\n    }\n\n    [frozen],\n    [frozen-to-end] {\n      z-index: 2;\n      will-change: transform;\n    }\n\n    [no-scrollbars][safari] #table,\n    [no-scrollbars][firefox] #table {\n      overflow: hidden;\n    }\n\n    /* Reordering styles */\n    :host([reordering]) [part~='cell'] ::slotted(vaadin-grid-cell-content),\n    :host([reordering]) [part~='resize-handle'],\n    #scroller[no-content-pointer-events] [part~='cell'] ::slotted(vaadin-grid-cell-content) {\n      pointer-events: none;\n    }\n\n    [part~='reorder-ghost'] {\n      visibility: hidden;\n      position: fixed;\n      pointer-events: none;\n      opacity: 0.5;\n\n      /* Prevent overflowing the grid in Firefox */\n      top: 0;\n      left: 0;\n    }\n\n    :host([reordering]) {\n      -moz-user-select: none;\n      -webkit-user-select: none;\n      user-select: none;\n    }\n\n    /* Resizing styles */\n    [part~='resize-handle'] {\n      position: absolute;\n      top: 0;\n      right: 0;\n      height: 100%;\n      cursor: col-resize;\n      z-index: 1;\n    }\n\n    [part~='resize-handle']::before {\n      position: absolute;\n      content: '';\n      height: 100%;\n      width: 35px;\n      transform: translateX(-50%);\n    }\n\n    [last-column] [part~='resize-handle']::before,\n    [last-frozen] [part~='resize-handle']::before {\n      width: 18px;\n      transform: none;\n      right: 0;\n    }\n\n    [frozen-to-end] [part~='resize-handle'] {\n      left: 0;\n      right: auto;\n    }\n\n    [frozen-to-end] [part~='resize-handle']::before {\n      left: 0;\n      right: auto;\n    }\n\n    [first-frozen-to-end] [part~='resize-handle']::before {\n      width: 18px;\n      transform: none;\n    }\n\n    [first-frozen-to-end] {\n      margin-inline-start: auto;\n    }\n\n    /* Hide resize handle if scrolled to end */\n    :host(:not([overflow~='end'])) [first-frozen-to-end] [part~='resize-handle'] {\n      display: none;\n    }\n\n    #scroller[column-resizing] {\n      -ms-user-select: none;\n      -moz-user-select: none;\n      -webkit-user-select: none;\n      user-select: none;\n    }\n\n    /* Sizer styles */\n    #sizer {\n      display: flex;\n      position: absolute;\n      visibility: hidden;\n    }\n\n    #sizer [part~='details-cell'] {\n      display: none !important;\n    }\n\n    #sizer [part~='cell'][hidden] {\n      display: none !important;\n    }\n\n    #sizer [part~='cell'] {\n      display: block;\n      flex-shrink: 0;\n      line-height: 0;\n      height: 0 !important;\n      min-height: 0 !important;\n      max-height: 0 !important;\n      padding: 0 !important;\n      border: none !important;\n    }\n\n    #sizer [part~='cell']::before {\n      content: '-';\n    }\n\n    #sizer [part~='cell'] ::slotted(vaadin-grid-cell-content) {\n      display: none !important;\n    }\n\n    /* RTL specific styles */\n\n    :host([dir='rtl']) #items,\n    :host([dir='rtl']) #header,\n    :host([dir='rtl']) #footer {\n      left: auto;\n    }\n\n    :host([dir='rtl']) [part~='reorder-ghost'] {\n      left: auto;\n      right: 0;\n    }\n\n    :host([dir='rtl']) [part~='resize-handle'] {\n      left: 0;\n      right: auto;\n    }\n\n    :host([dir='rtl']) [part~='resize-handle']::before {\n      transform: translateX(50%);\n    }\n\n    :host([dir='rtl']) [last-column] [part~='resize-handle']::before,\n    :host([dir='rtl']) [last-frozen] [part~='resize-handle']::before {\n      left: 0;\n      right: auto;\n    }\n\n    :host([dir='rtl']) [frozen-to-end] [part~='resize-handle'] {\n      right: 0;\n      left: auto;\n    }\n\n    :host([dir='rtl']) [frozen-to-end] [part~='resize-handle']::before {\n      right: 0;\n      left: auto;\n    }\n  `,\n  { moduleId: 'vaadin-grid-styles' },\n);\n", "/**\n * @license\n * Copyright (c) 2016 - 2022 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * @polymerMixin\n */\nexport const A11yMixin = (superClass) =>\n  class A11yMixin extends superClass {\n    static get observers() {\n      return ['_a11yUpdateGridSize(size, _columnTree, _columnTree.*)'];\n    }\n\n    /** @private */\n    _a11yGetHeaderRowCount(_columnTree) {\n      return _columnTree.filter((level) => level.some((col) => col.headerRenderer || col.path || col.header)).length;\n    }\n\n    /** @private */\n    _a11yGetFooterRowCount(_columnTree) {\n      return _columnTree.filter((level) => level.some((col) => col.headerRenderer)).length;\n    }\n\n    /** @private */\n    _a11yUpdateGridSize(size, _columnTree) {\n      if (size === undefined || _columnTree === undefined) {\n        return;\n      }\n\n      const bodyColumns = _columnTree[_columnTree.length - 1];\n      this.$.table.setAttribute(\n        'aria-rowcount',\n        size + this._a11yGetHeaderRowCount(_columnTree) + this._a11yGetFooterRowCount(_columnTree),\n      );\n      this.$.table.setAttribute('aria-colcount', (bodyColumns && bodyColumns.length) || 0);\n\n      this._a11yUpdateHeaderRows();\n      this._a11yUpdateFooterRows();\n    }\n\n    /** @protected */\n    _a11yUpdateHeaderRows() {\n      Array.from(this.$.header.children).forEach((headerRow, index) =>\n        headerRow.setAttribute('aria-rowindex', index + 1),\n      );\n    }\n\n    /** @protected */\n    _a11yUpdateFooterRows() {\n      Array.from(this.$.footer.children).forEach((footerRow, index) =>\n        footerRow.setAttribute('aria-rowindex', this._a11yGetHeaderRowCount(this._columnTree) + this.size + index + 1),\n      );\n    }\n\n    /**\n     * @param {!HTMLElement} row\n     * @param {number} index\n     * @protected\n     */\n    _a11yUpdateRowRowindex(row, index) {\n      row.setAttribute('aria-rowindex', index + this._a11yGetHeaderRowCount(this._columnTree) + 1);\n    }\n\n    /**\n     * @param {!HTMLElement} row\n     * @param {boolean} selected\n     * @protected\n     */\n    _a11yUpdateRowSelected(row, selected) {\n      // Jaws reads selection only for rows, NVDA only for cells\n      row.setAttribute('aria-selected', Boolean(selected));\n      Array.from(row.children).forEach((cell) => cell.setAttribute('aria-selected', Boolean(selected)));\n    }\n\n    /**\n     * @param {!HTMLElement} row\n     * @protected\n     */\n    _a11yUpdateRowExpanded(row) {\n      if (this.__isRowExpandable(row)) {\n        row.setAttribute('aria-expanded', 'false');\n      } else if (this.__isRowCollapsible(row)) {\n        row.setAttribute('aria-expanded', 'true');\n      } else {\n        row.removeAttribute('aria-expanded');\n      }\n    }\n\n    /**\n     * @param {!HTMLElement} row\n     * @param {number} level\n     * @protected\n     */\n    _a11yUpdateRowLevel(row, level) {\n      // Set level for the expandable rows itself, and all the nested rows.\n      if (level > 0 || this.__isRowCollapsible(row) || this.__isRowExpandable(row)) {\n        row.setAttribute('aria-level', level + 1);\n      } else {\n        row.removeAttribute('aria-level');\n      }\n    }\n\n    /**\n     * @param {!HTMLElement} row\n     * @param {!HTMLElement} detailsCell\n     * @protected\n     */\n    _a11ySetRowDetailsCell(row, detailsCell) {\n      Array.from(row.children).forEach((cell) => {\n        if (cell !== detailsCell) {\n          cell.setAttribute('aria-controls', detailsCell.id);\n        }\n      });\n    }\n\n    /**\n     * @param {!HTMLElement} row\n     * @param {number} colspan\n     * @protected\n     */\n    _a11yUpdateCellColspan(cell, colspan) {\n      cell.setAttribute('aria-colspan', Number(colspan));\n    }\n\n    /** @protected */\n    _a11yUpdateSorters() {\n      Array.from(this.querySelectorAll('vaadin-grid-sorter')).forEach((sorter) => {\n        let cellContent = sorter.parentNode;\n        while (cellContent && cellContent.localName !== 'vaadin-grid-cell-content') {\n          cellContent = cellContent.parentNode;\n        }\n        if (cellContent && cellContent.assignedSlot) {\n          const cell = cellContent.assignedSlot.parentNode;\n          cell.setAttribute(\n            'aria-sort',\n            {\n              asc: 'ascending',\n              desc: 'descending',\n            }[String(sorter.direction)] || 'none',\n          );\n        }\n      });\n    }\n  };\n", "/**\n * Returns a sub-property of an object\n *\n * @param {string} path dot-separated path to the sub property\n * @param {*} object\n * @returns {*}\n */\nfunction get(path, object) {\n  return path.split('.').reduce((obj, property) => obj[property], object);\n}\n\n/**\n * Check array of filters/sorters for paths validity, console.warn invalid items\n * @param {!Array<!GridFilterDefinition | !GridSorterDefinition>} arrayToCheck The array of filters/sorters to check\n * @param {string} action The name of action to include in warning (filtering, sorting)\n * @param {!Array<!GridItem>} items\n */\nfunction checkPaths(arrayToCheck, action, items) {\n  if (items.length === 0) {\n    return false;\n  }\n\n  let result = true;\n\n  arrayToCheck.forEach(({ path }) => {\n    // Skip simple paths\n    if (!path || path.indexOf('.') === -1) {\n      return;\n    }\n\n    const parentProperty = path.replace(/\\.[^.]*$/, ''); // A.b.c -> a.b\n    if (get(parentProperty, items[0]) === undefined) {\n      console.warn(`Path \"${path}\" used for ${action} does not exist in all of the items, ${action} is disabled.`);\n      result = false;\n    }\n  });\n\n  return result;\n}\n\n/**\n * Sorts the given array of items based on the sorting rules and returns the result.\n *\n * @param {Array<any>} items\n * @param {Array<GridSorterDefinition>} items\n * @return {Array<any>}\n */\nfunction multiSort(items, sortOrders) {\n  return items.sort((a, b) => {\n    return sortOrders\n      .map((sortOrder) => {\n        if (sortOrder.direction === 'asc') {\n          return compare(get(sortOrder.path, a), get(sortOrder.path, b));\n        } else if (sortOrder.direction === 'desc') {\n          return compare(get(sortOrder.path, b), get(sortOrder.path, a));\n        }\n        return 0;\n      })\n      .reduce((p, n) => {\n        return p !== 0 ? p : n;\n      }, 0);\n  });\n}\n\n/**\n * @param {unknown} value\n * @return {string}\n */\nfunction normalizeEmptyValue(value) {\n  if ([undefined, null].indexOf(value) >= 0) {\n    return '';\n  } else if (isNaN(value)) {\n    return value.toString();\n  }\n  return value;\n}\n\n/**\n * @param {unknown} a\n * @param {unknown} b\n * @return {number}\n */\nfunction compare(a, b) {\n  a = normalizeEmptyValue(a);\n  b = normalizeEmptyValue(b);\n\n  if (a < b) {\n    return -1;\n  }\n  if (a > b) {\n    return 1;\n  }\n  return 0;\n}\n\n/**\n * @param {!Array<!GridItem>} items\n * @return {!Array<!GridItem>}\n */\nfunction filter(items, filters) {\n  return items.filter((item) => {\n    return filters.every((filter) => {\n      const value = normalizeEmptyValue(get(filter.path, item));\n      const filterValueLowercase = normalizeEmptyValue(filter.value).toString().toLowerCase();\n      return value.toString().toLowerCase().includes(filterValueLowercase);\n    });\n  });\n}\n\n/**\n * WARNING: This API is still intended for internal purposes only and\n * may change any time.\n *\n * Creates a new grid compatible data provider that serves the items\n * from the given array as data when requested by the grid.\n *\n * @param {Array<any>} items\n * @return {GridDataProvider<any>}\n */\nexport const createArrayDataProvider = (allItems) => {\n  return (params, callback) => {\n    let items = allItems ? [...allItems] : [];\n\n    if (params.filters && checkPaths(params.filters, 'filtering', items)) {\n      items = filter(items, params.filters);\n    }\n\n    if (\n      Array.isArray(params.sortOrders) &&\n      params.sortOrders.length &&\n      checkPaths(params.sortOrders, 'sorting', items)\n    ) {\n      items = multiSort(items, params.sortOrders);\n    }\n\n    const count = Math.min(items.length, params.pageSize);\n    const start = params.page * count;\n    const end = start + count;\n    const slice = items.slice(start, end);\n    callback(slice, items.length);\n  };\n};\n", "/**\n * @license\n * Copyright (c) 2016 - 2022 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { createArrayDataProvider } from './array-data-provider.js';\n\n/**\n * @polymerMixin\n */\nexport const ArrayDataProviderMixin = (superClass) =>\n  class ArrayDataProviderMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * An array containing the items which will be passed to renderer functions.\n         *\n         * @type {Array<!GridItem> | undefined}\n         */\n        items: Array,\n      };\n    }\n\n    static get observers() {\n      return ['__dataProviderOrItemsChanged(dataProvider, items, isAttached, items.*, _filters, _sorters)'];\n    }\n\n    /** @private */\n    __setArrayDataProvider(items) {\n      const arrayDataProvider = createArrayDataProvider(this.items, {});\n      arrayDataProvider.__items = items;\n      this.setProperties({\n        _arrayDataProvider: arrayDataProvider,\n        size: items.length,\n        dataProvider: arrayDataProvider,\n      });\n    }\n\n    /** @private */\n    __dataProviderOrItemsChanged(dataProvider, items, isAttached) {\n      if (!isAttached) {\n        return;\n      }\n\n      if (this._arrayDataProvider) {\n        // Has an items array data provider beforehand\n\n        if (dataProvider !== this._arrayDataProvider) {\n          // A custom data provider was set externally\n          this.setProperties({\n            _arrayDataProvider: undefined,\n            items: undefined,\n          });\n        } else if (!items) {\n          // The items array was unset\n          this.setProperties({\n            _arrayDataProvider: undefined,\n            dataProvider: undefined,\n            size: 0,\n          });\n          this.clearCache();\n        } else if (this._arrayDataProvider.__items === items) {\n          // The items array was modified\n          this.clearCache();\n          this.size = this._effectiveSize;\n        } else {\n          // The items array was replaced\n          this.__setArrayDataProvider(items);\n        }\n      } else if (items) {\n        // There was no array data provider before items was set\n        this.__setArrayDataProvider(items);\n      }\n    }\n  };\n", "/**\n * @license\n * Copyright (c) 2016 - 2022 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { addListener } from '@vaadin/component-base/src/gestures.js';\nimport { updateColumnOrders } from './vaadin-grid-helpers.js';\n\n/**\n * @polymerMixin\n */\nexport const ColumnReorderingMixin = (superClass) =>\n  class ColumnReorderingMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * Set to true to allow column reordering.\n         * @attr {boolean} column-reordering-allowed\n         * @type {boolean}\n         */\n        columnReorderingAllowed: {\n          type: Boolean,\n          value: false,\n        },\n\n        /** @private */\n        _orderBaseScope: {\n          type: Number,\n          value: 10000000,\n        },\n      };\n    }\n\n    static get observers() {\n      return ['_updateOrders(_columnTree, _columnTree.*)'];\n    }\n\n    /** @protected */\n    ready() {\n      super.ready();\n      addListener(this, 'track', this._onTrackEvent);\n      this._reorderGhost = this.shadowRoot.querySelector('[part=\"reorder-ghost\"]');\n\n      this.addEventListener('touchstart', this._onTouchStart.bind(this));\n      this.addEventListener('touchmove', this._onTouchMove.bind(this));\n      this.addEventListener('touchend', this._onTouchEnd.bind(this));\n      this.addEventListener('contextmenu', this._onContextMenu.bind(this));\n    }\n\n    /** @private */\n    _onContextMenu(e) {\n      if (this.hasAttribute('reordering')) {\n        e.preventDefault();\n      }\n    }\n\n    /** @private */\n    _onTouchStart(e) {\n      // Touch event, delay activation by 100ms\n      this._startTouchReorderTimeout = setTimeout(() => {\n        this._onTrackStart({\n          detail: {\n            x: e.touches[0].clientX,\n            y: e.touches[0].clientY,\n          },\n        });\n      }, 100);\n    }\n\n    /** @private */\n    _onTouchMove(e) {\n      if (this._draggedColumn) {\n        e.preventDefault();\n      }\n      clearTimeout(this._startTouchReorderTimeout);\n    }\n\n    /** @private */\n    _onTouchEnd() {\n      clearTimeout(this._startTouchReorderTimeout);\n      this._onTrackEnd();\n    }\n\n    /** @private */\n    _onTrackEvent(e) {\n      if (e.detail.state === 'start') {\n        const path = e.composedPath();\n        const headerCell = path[path.indexOf(this.$.header) - 2];\n        if (!headerCell || !headerCell._content) {\n          // Not a header column\n          return;\n        }\n\n        if (headerCell._content.contains(this.getRootNode().activeElement)) {\n          // Something was focused inside the cell\n          return;\n        }\n\n        if (this.$.scroller.hasAttribute('column-resizing')) {\n          // Resizing is in progress\n          return;\n        }\n\n        if (!this._touchDevice) {\n          // Not a touch device\n          this._onTrackStart(e);\n        }\n      } else if (e.detail.state === 'track') {\n        this._onTrack(e);\n      } else if (e.detail.state === 'end') {\n        this._onTrackEnd(e);\n      }\n    }\n\n    /** @private */\n    _onTrackStart(e) {\n      if (!this.columnReorderingAllowed) {\n        return;\n      }\n\n      // Cancel reordering if there are draggable nodes on the event path\n      const path = e.composedPath && e.composedPath();\n      if (path && path.filter((node) => node.hasAttribute && node.hasAttribute('draggable'))[0]) {\n        return;\n      }\n\n      const headerCell = this._cellFromPoint(e.detail.x, e.detail.y);\n      if (!headerCell || headerCell.getAttribute('part').indexOf('header-cell') === -1) {\n        return;\n      }\n\n      this.toggleAttribute('reordering', true);\n      this._draggedColumn = headerCell._column;\n      while (this._draggedColumn.parentElement.childElementCount === 1) {\n        // This is the only column in the group, drag the whole group instead\n        this._draggedColumn = this._draggedColumn.parentElement;\n      }\n      this._setSiblingsReorderStatus(this._draggedColumn, 'allowed');\n      this._draggedColumn._reorderStatus = 'dragging';\n\n      this._updateGhost(headerCell);\n      this._reorderGhost.style.visibility = 'visible';\n      this._updateGhostPosition(e.detail.x, this._touchDevice ? e.detail.y - 50 : e.detail.y);\n      this._autoScroller();\n    }\n\n    /** @private */\n    _onTrack(e) {\n      if (!this._draggedColumn) {\n        // Reordering didn\u2019t start. Skip this event.\n        return;\n      }\n\n      const targetCell = this._cellFromPoint(e.detail.x, e.detail.y);\n      if (!targetCell) {\n        return;\n      }\n\n      const targetColumn = this._getTargetColumn(targetCell, this._draggedColumn);\n      if (\n        this._isSwapAllowed(this._draggedColumn, targetColumn) &&\n        this._isSwappableByPosition(targetColumn, e.detail.x)\n      ) {\n        // Get the column header level of the target column (and the dragged column)\n        const columnTreeLevel = this._columnTree.findIndex((level) => level.includes(targetColumn));\n        // Get the columns on that level in visual order\n        const levelColumnsInOrder = this._getColumnsInOrder(columnTreeLevel);\n\n        // Index of the column being dragged\n        const startIndex = levelColumnsInOrder.indexOf(this._draggedColumn);\n        // Index of the column being dragged over\n        const endIndex = levelColumnsInOrder.indexOf(targetColumn);\n\n        // Direction of iteration\n        const direction = startIndex < endIndex ? 1 : -1;\n\n        // Iteratively swap all the columns from the dragged column to the target column\n        for (let i = startIndex; i !== endIndex; i += direction) {\n          this._swapColumnOrders(this._draggedColumn, levelColumnsInOrder[i + direction]);\n        }\n      }\n\n      this._updateGhostPosition(e.detail.x, this._touchDevice ? e.detail.y - 50 : e.detail.y);\n      this._lastDragClientX = e.detail.x;\n    }\n\n    /** @private */\n    _onTrackEnd() {\n      if (!this._draggedColumn) {\n        // Reordering didn\u2019t start. Skip this event.\n        return;\n      }\n\n      this.toggleAttribute('reordering', false);\n      this._draggedColumn._reorderStatus = '';\n      this._setSiblingsReorderStatus(this._draggedColumn, '');\n      this._draggedColumn = null;\n      this._lastDragClientX = null;\n      this._reorderGhost.style.visibility = 'hidden';\n\n      this.dispatchEvent(\n        new CustomEvent('column-reorder', {\n          detail: {\n            columns: this._getColumnsInOrder(),\n          },\n        }),\n      );\n    }\n\n    /**\n     * Returns the columns (or column groups) on the specified header level in visual order.\n     * By default, the bottom level is used.\n     *\n     * @return {!Array<!GridColumn>}\n     * @protected\n     */\n    _getColumnsInOrder(headerLevel = this._columnTree.length - 1) {\n      return this._columnTree[headerLevel].filter((c) => !c.hidden).sort((b, a) => b._order - a._order);\n    }\n\n    /**\n     * @param {number} x\n     * @param {number} y\n     * @return {HTMLElement | undefined}\n     * @protected\n     */\n    _cellFromPoint(x, y) {\n      x = x || 0;\n      y = y || 0;\n      if (!this._draggedColumn) {\n        this.$.scroller.toggleAttribute('no-content-pointer-events', true);\n      }\n      const cell = this.shadowRoot.elementFromPoint(x, y);\n      this.$.scroller.toggleAttribute('no-content-pointer-events', false);\n\n      // Make sure the element is actually a cell\n      if (cell && cell._column) {\n        return cell;\n      }\n    }\n\n    /**\n     * @param {number} eventClientX\n     * @param {number} eventClientY\n     * @protected\n     */\n    _updateGhostPosition(eventClientX, eventClientY) {\n      const ghostRect = this._reorderGhost.getBoundingClientRect();\n      // // This is where we want to position the ghost\n      const targetLeft = eventClientX - ghostRect.width / 2;\n      const targetTop = eventClientY - ghostRect.height / 2;\n      // Current position\n      const _left = parseInt(this._reorderGhost._left || 0);\n      const _top = parseInt(this._reorderGhost._top || 0);\n      // Reposition the ghost\n      this._reorderGhost._left = _left - (ghostRect.left - targetLeft);\n      this._reorderGhost._top = _top - (ghostRect.top - targetTop);\n      this._reorderGhost.style.transform = `translate(${this._reorderGhost._left}px, ${this._reorderGhost._top}px)`;\n    }\n\n    /**\n     * @param {!HTMLElement} cell\n     * @return {!HTMLElement}\n     * @protected\n     */\n    _updateGhost(cell) {\n      const ghost = this._reorderGhost;\n      ghost.textContent = cell._content.innerText;\n      const style = window.getComputedStyle(cell);\n      [\n        'boxSizing',\n        'display',\n        'width',\n        'height',\n        'background',\n        'alignItems',\n        'padding',\n        'border',\n        'flex-direction',\n        'overflow',\n      ].forEach((propertyName) => {\n        ghost.style[propertyName] = style[propertyName];\n      });\n      return ghost;\n    }\n\n    /** @private */\n    _updateOrders(columnTree, splices) {\n      if (columnTree === undefined || splices === undefined) {\n        return;\n      }\n\n      // Reset all column orders\n      columnTree[0].forEach((column) => {\n        column._order = 0;\n      });\n      // Set order numbers to top-level columns\n      updateColumnOrders(columnTree[0], this._orderBaseScope, 0);\n    }\n\n    /**\n     * @param {!GridColumn} column\n     * @param {string} status\n     * @protected\n     */\n    _setSiblingsReorderStatus(column, status) {\n      Array.from(column.parentNode.children)\n        .filter((child) => /column/.test(child.localName) && this._isSwapAllowed(child, column))\n        .forEach((sibling) => {\n          sibling._reorderStatus = status;\n        });\n    }\n\n    /** @protected */\n    _autoScroller() {\n      if (this._lastDragClientX) {\n        const rightDiff = this._lastDragClientX - this.getBoundingClientRect().right + 50;\n        const leftDiff = this.getBoundingClientRect().left - this._lastDragClientX + 50;\n\n        if (rightDiff > 0) {\n          this.$.table.scrollLeft += rightDiff / 10;\n        } else if (leftDiff > 0) {\n          this.$.table.scrollLeft -= leftDiff / 10;\n        }\n      }\n\n      if (this._draggedColumn) {\n        setTimeout(() => this._autoScroller(), 10);\n      }\n    }\n\n    /**\n     * @param {GridColumn | undefined} column1\n     * @param {GridColumn | undefined} column2\n     * @return {boolean | undefined}\n     * @protected\n     */\n    _isSwapAllowed(column1, column2) {\n      if (column1 && column2) {\n        const differentColumns = column1 !== column2;\n        const sameParent = column1.parentElement === column2.parentElement;\n        const sameFrozen =\n          (column1.frozen && column2.frozen) || // Both columns are frozen\n          (column1.frozenToEnd && column2.frozenToEnd) || // Both columns are frozen to end\n          (!column1.frozen && !column1.frozenToEnd && !column2.frozen && !column2.frozenToEnd);\n        return differentColumns && sameParent && sameFrozen;\n      }\n    }\n\n    /**\n     * @param {!GridColumn} targetColumn\n     * @param {number} clientX\n     * @return {boolean}\n     * @protected\n     */\n    _isSwappableByPosition(targetColumn, clientX) {\n      const targetCell = Array.from(this.$.header.querySelectorAll('tr:not([hidden]) [part~=\"cell\"]')).filter((cell) =>\n        targetColumn.contains(cell._column),\n      )[0];\n      const sourceCellRect = this.$.header\n        .querySelector('tr:not([hidden]) [reorder-status=dragging]')\n        .getBoundingClientRect();\n      const targetRect = targetCell.getBoundingClientRect();\n      if (targetRect.left > sourceCellRect.left) {\n        return clientX > targetRect.right - sourceCellRect.width;\n      }\n      return clientX < targetRect.left + sourceCellRect.width;\n    }\n\n    /**\n     * @param {!GridColumn} column1\n     * @param {!GridColumn} column2\n     * @protected\n     */\n    _swapColumnOrders(column1, column2) {\n      const _order = column1._order;\n      column1._order = column2._order;\n      column2._order = _order;\n      this._updateFrozenColumn();\n      this._updateFirstAndLastColumn();\n    }\n\n    /**\n     * @param {HTMLElement | undefined} targetCell\n     * @param {GridColumn} draggedColumn\n     * @return {GridColumn | undefined}\n     * @protected\n     */\n    _getTargetColumn(targetCell, draggedColumn) {\n      if (targetCell && draggedColumn) {\n        let candidate = targetCell._column;\n        while (candidate.parentElement !== draggedColumn.parentElement && candidate !== this) {\n          candidate = candidate.parentElement;\n        }\n        if (candidate.parentElement === draggedColumn.parentElement) {\n          return candidate;\n        }\n        return targetCell._column;\n      }\n    }\n\n    /**\n     * Fired when the columns in the grid are reordered.\n     *\n     * @event column-reorder\n     * @param {Object} detail\n     * @param {Object} detail.columns the columns in the new order\n     */\n  };\n", "/**\n * @license\n * Copyright (c) 2016 - 2022 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { addListener } from '@vaadin/component-base/src/gestures.js';\n\n/**\n * @polymerMixin\n */\nexport const ColumnResizingMixin = (superClass) =>\n  class ColumnResizingMixin extends superClass {\n    /** @protected */\n    ready() {\n      super.ready();\n      const scroller = this.$.scroller;\n      addListener(scroller, 'track', this._onHeaderTrack.bind(this));\n\n      // Disallow scrolling while resizing\n      scroller.addEventListener('touchmove', (e) => scroller.hasAttribute('column-resizing') && e.preventDefault());\n\n      // Disable contextmenu on any resize separator.\n      scroller.addEventListener(\n        'contextmenu',\n        (e) => e.target.getAttribute('part') === 'resize-handle' && e.preventDefault(),\n      );\n\n      // Disable native cell focus when resizing\n      scroller.addEventListener(\n        'mousedown',\n        (e) => e.target.getAttribute('part') === 'resize-handle' && e.preventDefault(),\n      );\n    }\n\n    /** @private */\n    _onHeaderTrack(e) {\n      const handle = e.target;\n      if (handle.getAttribute('part') === 'resize-handle') {\n        const cell = handle.parentElement;\n        let column = cell._column;\n\n        this.$.scroller.toggleAttribute('column-resizing', true);\n\n        // Get the target column to resize\n        while (column.localName === 'vaadin-grid-column-group') {\n          column = column._childColumns\n            .slice(0)\n            .sort((a, b) => a._order - b._order)\n            .filter((column) => !column.hidden)\n            .pop();\n        }\n\n        const eventX = e.detail.x;\n        const columnRowCells = Array.from(this.$.header.querySelectorAll('[part~=\"row\"]:last-child [part~=\"cell\"]'));\n        const targetCell = columnRowCells.filter((cell) => cell._column === column)[0];\n        // Resize the target column\n        if (targetCell.offsetWidth) {\n          const style = getComputedStyle(targetCell._content);\n          const minWidth =\n            10 +\n            parseInt(style.paddingLeft) +\n            parseInt(style.paddingRight) +\n            parseInt(style.borderLeftWidth) +\n            parseInt(style.borderRightWidth) +\n            parseInt(style.marginLeft) +\n            parseInt(style.marginRight);\n\n          let maxWidth;\n\n          const cellWidth = targetCell.offsetWidth;\n          const cellRect = targetCell.getBoundingClientRect();\n\n          // For cells frozen to end, resize handle is flipped horizontally.\n          if (targetCell.hasAttribute('frozen-to-end')) {\n            maxWidth = cellWidth + (this.__isRTL ? eventX - cellRect.right : cellRect.left - eventX);\n          } else {\n            maxWidth = cellWidth + (this.__isRTL ? cellRect.left - eventX : eventX - cellRect.right);\n          }\n\n          column.width = `${Math.max(minWidth, maxWidth)}px`;\n          column.flexGrow = 0;\n        }\n        // Fix width and flex-grow for all preceding columns\n        columnRowCells\n          .sort((a, b) => a._column._order - b._column._order)\n          .forEach((cell, index, array) => {\n            if (index < array.indexOf(targetCell)) {\n              cell._column.width = `${cell.offsetWidth}px`;\n              cell._column.flexGrow = 0;\n            }\n          });\n\n        const cellFrozenToEnd = this._frozenToEndCells[0];\n\n        // When handle moves below the cell frozen to end, scroll into view.\n        if (cellFrozenToEnd && this.$.table.scrollWidth > this.$.table.offsetWidth) {\n          const frozenRect = cellFrozenToEnd.getBoundingClientRect();\n          const offset = eventX - (this.__isRTL ? frozenRect.right : frozenRect.left);\n\n          if ((this.__isRTL && offset <= 0) || (!this.__isRTL && offset >= 0)) {\n            this.$.table.scrollLeft += offset;\n          }\n        }\n\n        if (e.detail.state === 'end') {\n          this.$.scroller.toggleAttribute('column-resizing', false);\n          this.dispatchEvent(\n            new CustomEvent('column-resize', {\n              detail: { resizedColumn: column },\n            }),\n          );\n        }\n\n        // Notify resize\n        this._resizeHandler();\n      }\n    }\n\n    /**\n     * Fired when a column in the grid is resized by the user.\n     *\n     * @event column-resize\n     * @param {Object} detail\n     * @param {Object} detail.resizedColumn the column that was resized\n     */\n  };\n", "/**\n * @license\n * Copyright (c) 2016 - 2022 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nconst DropMode = {\n  BETWEEN: 'between',\n  ON_TOP: 'on-top',\n  ON_TOP_OR_BETWEEN: 'on-top-or-between',\n  ON_GRID: 'on-grid',\n};\n\nconst DropLocation = {\n  ON_TOP: 'on-top',\n  ABOVE: 'above',\n  BELOW: 'below',\n  EMPTY: 'empty',\n};\n\n// Detects if the browser doesn't support HTML5 Drag & Drop API (and falls back to the @vaadin/vaadin-mobile-drag-drop polyfill)\nconst usesDnDPolyfill = !('draggable' in document.createElement('div'));\n\n/**\n * @polymerMixin\n */\nexport const DragAndDropMixin = (superClass) =>\n  class DragAndDropMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * Defines the locations within the Grid row where an element can be dropped.\n         *\n         * Possible values are:\n         * - `between`: The drop event can happen between Grid rows.\n         * - `on-top`: The drop event can happen on top of Grid rows.\n         * - `on-top-or-between`: The drop event can happen either on top of or between Grid rows.\n         * - `on-grid`: The drop event will not happen on any specific row, it will show the drop target outline around the whole grid.\n         * @attr {between|on-top|on-top-or-between|on-grid} drop-mode\n         * @type {GridDropMode | null | undefined}\n         */\n        dropMode: String,\n\n        /**\n         * Marks the grid's rows to be available for dragging.\n         * @attr {boolean} rows-draggable\n         */\n        rowsDraggable: Boolean,\n\n        /**\n         * A function that filters dragging of specific grid rows. The return value should be false\n         * if dragging of the row should be disabled.\n         *\n         * Receives one argument:\n         * - `model` The object with the properties related with\n         *   the rendered item, contains:\n         *   - `model.index` The index of the item.\n         *   - `model.item` The item.\n         *   - `model.expanded` Sublevel toggle state.\n         *   - `model.level` Level of the tree represented with a horizontal offset of the toggle button.\n         *   - `model.selected` Selected state.\n         *\n         * @type {GridDragAndDropFilter | null | undefined}\n         */\n        dragFilter: Function,\n\n        /**\n         * A function that filters dropping on specific grid rows. The return value should be false\n         * if dropping on the row should be disabled.\n         *\n         * Receives one argument:\n         * - `model` The object with the properties related with\n         *   the rendered item, contains:\n         *   - `model.index` The index of the item.\n         *   - `model.item` The item.\n         *   - `model.expanded` Sublevel toggle state.\n         *   - `model.level` Level of the tree represented with a horizontal offset of the toggle button.\n         *   - `model.selected` Selected state.\n         *\n         * @type {GridDragAndDropFilter | null | undefined}\n         */\n        dropFilter: Function,\n\n        /** @private */\n        __dndAutoScrollThreshold: {\n          value: 50,\n        },\n      };\n    }\n\n    static get observers() {\n      return ['_dragDropAccessChanged(rowsDraggable, dropMode, dragFilter, dropFilter, loading)'];\n    }\n\n    /** @protected */\n    ready() {\n      super.ready();\n      this.$.table.addEventListener('dragstart', this._onDragStart.bind(this));\n      this.$.table.addEventListener('dragend', this._onDragEnd.bind(this));\n      this.$.table.addEventListener('dragover', this._onDragOver.bind(this));\n      this.$.table.addEventListener('dragleave', this._onDragLeave.bind(this));\n      this.$.table.addEventListener('drop', this._onDrop.bind(this));\n      this.$.table.addEventListener('dragenter', (e) => {\n        if (this.dropMode) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n    }\n\n    /** @private */\n    _onDragStart(e) {\n      if (this.rowsDraggable) {\n        let row = e.target;\n        if (row.localName === 'vaadin-grid-cell-content') {\n          // The draggable node is the cell content element on browsers that support native shadow\n          row = row.assignedSlot.parentNode.parentNode;\n        }\n        if (row.parentNode !== this.$.items) {\n          return;\n        }\n\n        e.stopPropagation();\n        this.toggleAttribute('dragging-rows', true);\n\n        if (this._safari) {\n          // Safari doesn't position drag images from transformed\n          // elements properly so we need to switch to use top temporarily\n          const transform = row.style.transform;\n          row.style.top = /translateY\\((.*)\\)/.exec(transform)[1];\n          row.style.transform = 'none';\n          requestAnimationFrame(() => {\n            row.style.top = '';\n            row.style.transform = transform;\n          });\n        }\n\n        const rowRect = row.getBoundingClientRect();\n\n        if (usesDnDPolyfill) {\n          // The polyfill drag image is automatically centered so there is no need to adjust the position\n          e.dataTransfer.setDragImage(row);\n        } else {\n          // The native drag image needs to be shifted manually to compensate for the touch position offset\n          e.dataTransfer.setDragImage(row, e.clientX - rowRect.left, e.clientY - rowRect.top);\n        }\n\n        let rows = [row];\n        if (this._isSelected(row._item)) {\n          rows = this.__getViewportRows()\n            .filter((row) => this._isSelected(row._item))\n            .filter((row) => !this.dragFilter || this.dragFilter(this.__getRowModel(row)));\n        }\n\n        // Set the default transfer data\n        e.dataTransfer.setData('text', this.__formatDefaultTransferData(rows));\n\n        row.setAttribute('dragstart', rows.length > 1 ? rows.length : '');\n        this.style.setProperty('--_grid-drag-start-x', `${e.clientX - rowRect.left + 20}px`);\n        this.style.setProperty('--_grid-drag-start-y', `${e.clientY - rowRect.top + 10}px`);\n\n        requestAnimationFrame(() => {\n          row.removeAttribute('dragstart');\n          this.updateStyles({ '--_grid-drag-start-x': '', '--_grid-drag-start-y': '' });\n        });\n\n        const event = new CustomEvent('grid-dragstart', {\n          detail: {\n            draggedItems: rows.map((row) => row._item),\n            setDragData: (type, data) => e.dataTransfer.setData(type, data),\n            setDraggedItemsCount: (count) => row.setAttribute('dragstart', count),\n          },\n        });\n        event.originalEvent = e;\n        this.dispatchEvent(event);\n      }\n    }\n\n    /** @private */\n    _onDragEnd(e) {\n      this.toggleAttribute('dragging-rows', false);\n      e.stopPropagation();\n      const event = new CustomEvent('grid-dragend');\n      event.originalEvent = e;\n      this.dispatchEvent(event);\n    }\n\n    /** @private */\n    _onDragLeave(e) {\n      e.stopPropagation();\n      this._clearDragStyles();\n    }\n\n    /** @private */\n    _onDragOver(e) {\n      if (this.dropMode) {\n        this._dropLocation = undefined;\n        this._dragOverItem = undefined;\n\n        if (this.__dndAutoScroll(e.clientY)) {\n          this._clearDragStyles();\n          return;\n        }\n\n        let row = e.composedPath().filter((node) => node.localName === 'tr')[0];\n\n        if (!this._effectiveSize || this.dropMode === DropMode.ON_GRID) {\n          // The grid is empty or \"on-grid\" drop mode was used, always default to \"empty\"\n          this._dropLocation = DropLocation.EMPTY;\n        } else if (!row || row.parentNode !== this.$.items) {\n          // The dragover didn't occur on a body row but the grid has items\n          if (row) {\n            // The dragover occurred over a header/footer row\n            return;\n          } else if (this.dropMode === DropMode.BETWEEN || this.dropMode === DropMode.ON_TOP_OR_BETWEEN) {\n            // The drop mode allows setting the last row as the drag over item\n            row = Array.from(this.$.items.children)\n              .filter((row) => !row.hidden)\n              .pop();\n            this._dropLocation = DropLocation.BELOW;\n          } else {\n            // Drop mode on-top used but the dragover didn't occur over one of the existing rows\n            return;\n          }\n        } else {\n          // The dragover occurred on a body row, determine the drop location from coordinates\n          const rowRect = row.getBoundingClientRect();\n\n          this._dropLocation = DropLocation.ON_TOP;\n\n          if (this.dropMode === DropMode.BETWEEN) {\n            const dropAbove = e.clientY - rowRect.top < rowRect.bottom - e.clientY;\n            this._dropLocation = dropAbove ? DropLocation.ABOVE : DropLocation.BELOW;\n          } else if (this.dropMode === DropMode.ON_TOP_OR_BETWEEN) {\n            if (e.clientY - rowRect.top < rowRect.height / 3) {\n              this._dropLocation = DropLocation.ABOVE;\n            } else if (e.clientY - rowRect.top > (rowRect.height / 3) * 2) {\n              this._dropLocation = DropLocation.BELOW;\n            }\n          }\n        }\n\n        if (row && row.hasAttribute('drop-disabled')) {\n          this._dropLocation = undefined;\n          return;\n        }\n\n        e.stopPropagation();\n        e.preventDefault();\n\n        if (this._dropLocation === DropLocation.EMPTY) {\n          this.toggleAttribute('dragover', true);\n        } else if (row) {\n          this._dragOverItem = row._item;\n          if (row.getAttribute('dragover') !== this._dropLocation) {\n            row.setAttribute('dragover', this._dropLocation);\n          }\n        } else {\n          this._clearDragStyles();\n        }\n      }\n    }\n\n    /** @private */\n    __dndAutoScroll(clientY) {\n      if (this.__dndAutoScrolling) {\n        return true;\n      }\n\n      const headerBottom = this.$.header.getBoundingClientRect().bottom;\n      const footerTop = this.$.footer.getBoundingClientRect().top;\n      const topDiff = headerBottom - clientY + this.__dndAutoScrollThreshold;\n      const bottomDiff = clientY - footerTop + this.__dndAutoScrollThreshold;\n      let scrollTopDelta = 0;\n\n      if (bottomDiff > 0) {\n        scrollTopDelta = bottomDiff * 2;\n      } else if (topDiff > 0) {\n        scrollTopDelta = -topDiff * 2;\n      }\n\n      if (scrollTopDelta) {\n        const scrollTop = this.$.table.scrollTop;\n        this.$.table.scrollTop += scrollTopDelta;\n        const scrollTopChanged = scrollTop !== this.$.table.scrollTop;\n        if (scrollTopChanged) {\n          this.__dndAutoScrolling = true;\n          // Disallow more auto-scrolls within 20ms\n          setTimeout(() => {\n            this.__dndAutoScrolling = false;\n          }, 20);\n          return true;\n        }\n      }\n    }\n\n    /** @private */\n    __getViewportRows() {\n      const headerBottom = this.$.header.getBoundingClientRect().bottom;\n      const footerTop = this.$.footer.getBoundingClientRect().top;\n      return Array.from(this.$.items.children).filter((row) => {\n        const rowRect = row.getBoundingClientRect();\n        return rowRect.bottom > headerBottom && rowRect.top < footerTop;\n      });\n    }\n\n    /** @protected */\n    _clearDragStyles() {\n      this.removeAttribute('dragover');\n      Array.from(this.$.items.children).forEach((row) => row.removeAttribute('dragover'));\n    }\n\n    /** @private */\n    _onDrop(e) {\n      if (this.dropMode) {\n        e.stopPropagation();\n        e.preventDefault();\n\n        const dragData =\n          e.dataTransfer.types &&\n          Array.from(e.dataTransfer.types).map((type) => {\n            return {\n              type,\n              data: e.dataTransfer.getData(type),\n            };\n          });\n\n        this._clearDragStyles();\n\n        const event = new CustomEvent('grid-drop', {\n          bubbles: e.bubbles,\n          cancelable: e.cancelable,\n          detail: {\n            dropTargetItem: this._dragOverItem,\n            dropLocation: this._dropLocation,\n            dragData,\n          },\n        });\n        event.originalEvent = e;\n        this.dispatchEvent(event);\n      }\n    }\n\n    /** @private */\n    __formatDefaultTransferData(rows) {\n      return rows\n        .map((row) => {\n          return Array.from(row.children)\n            .filter((cell) => !cell.hidden && cell.getAttribute('part').indexOf('details-cell') === -1)\n            .sort((a, b) => {\n              return a._column._order > b._column._order ? 1 : -1;\n            })\n            .map((cell) => cell._content.textContent.trim())\n            .filter((content) => content)\n            .join('\\t');\n        })\n        .join('\\n');\n    }\n\n    /** @private */\n    _dragDropAccessChanged() {\n      this.filterDragAndDrop();\n    }\n\n    /**\n     * Runs the `dragFilter` and `dropFilter` hooks for the visible cells.\n     * If the filter depends on varying conditions, you may need to\n     * call this function manually in order to update the draggability when\n     * the conditions change.\n     */\n    filterDragAndDrop() {\n      Array.from(this.$.items.children)\n        .filter((row) => !row.hidden)\n        .forEach((row) => {\n          this._filterDragAndDrop(row, this.__getRowModel(row));\n        });\n    }\n\n    /**\n     * @param {!HTMLElement} row\n     * @param {!GridItemModel} model\n     * @protected\n     */\n    _filterDragAndDrop(row, model) {\n      const loading = this.loading || row.hasAttribute('loading');\n      const dragDisabled = !this.rowsDraggable || loading || (this.dragFilter && !this.dragFilter(model));\n      const dropDisabled = !this.dropMode || loading || (this.dropFilter && !this.dropFilter(model));\n\n      const draggableElements = Array.from(row.children).map((cell) => cell._content);\n\n      draggableElements.forEach((e) => {\n        if (dragDisabled) {\n          e.removeAttribute('draggable');\n        } else {\n          e.setAttribute('draggable', true);\n        }\n      });\n\n      row.toggleAttribute('drag-disabled', !!dragDisabled);\n      row.toggleAttribute('drop-disabled', !!dropDisabled);\n    }\n\n    /**\n     * Fired when starting to drag grid rows.\n     *\n     * @event grid-dragstart\n     * @param {Object} originalEvent The native dragstart event\n     * @param {Object} detail\n     * @param {Object} detail.draggedItems the items in the visible viewport that are dragged\n     * @param {Function} detail.setDraggedItemsCount Overrides the default number shown in the drag image on multi row drag.\n     * Parameter is of type number.\n     * @param {Function} detail.setDragData Sets dataTransfer data for the drag operation.\n     * Note that \"text\" is the only data type supported by all the browsers the grid currently supports (including IE11).\n     * The function takes two parameters:\n     * - type:string The type of the data\n     * - data:string The data\n     */\n\n    /**\n     * Fired when the dragging of the rows ends.\n     *\n     * @event grid-dragend\n     * @param {Object} originalEvent The native dragend event\n     */\n\n    /**\n     * Fired when a drop occurs on top of the grid.\n     *\n     * @event grid-drop\n     * @param {Object} originalEvent The native drop event\n     * @param {Object} detail\n     * @param {Object} detail.dropTargetItem The item of the grid row on which the drop occurred.\n     * @param {string} detail.dropLocation The position at which the drop event took place relative to a row.\n     * Depending on the dropMode value, the drop location can be one of the following\n     * - `on-top`: when the drop occurred on top of the row\n     * - `above`: when the drop occurred above the row\n     * - `below`: when the drop occurred below the row\n     * - `empty`: when the drop occurred over the grid, not relative to any specific row\n     * @param {string} detail.dragData An array of items with the payload as a string representation as the\n     * `data` property and the type of the data as `type` property.\n     */\n  };\n", "/**\n * @license\n * Copyright (c) 2016 - 2022 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { FlattenedNodesObserver } from '@polymer/polymer/lib/utils/flattened-nodes-observer.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\nimport { timeOut } from '@vaadin/component-base/src/async.js';\nimport { Debouncer } from '@vaadin/component-base/src/debounce.js';\n\nfunction arrayEquals(arr1, arr2) {\n  if (!arr1 || !arr2 || arr1.length !== arr2.length) {\n    return false;\n  }\n\n  for (let i = 0, l = arr1.length; i < l; i++) {\n    // Check if we have nested arrays\n    if (arr1[i] instanceof Array && arr2[i] instanceof Array) {\n      // Recurse into the nested arrays\n      if (!arrayEquals(arr1[i], arr2[i])) {\n        return false;\n      }\n    } else if (arr1[i] !== arr2[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * @polymerMixin\n */\nexport const DynamicColumnsMixin = (superClass) =>\n  class DynamicColumnsMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * @protected\n         */\n        _columnTree: Object,\n      };\n    }\n\n    /** @protected */\n    ready() {\n      super.ready();\n      this._addNodeObserver();\n    }\n\n    /** @private */\n    _hasColumnGroups(columns) {\n      for (let i = 0; i < columns.length; i++) {\n        if (columns[i].localName === 'vaadin-grid-column-group') {\n          return true;\n        }\n      }\n\n      return false;\n    }\n\n    /**\n     * @param {!GridColumnGroup} el\n     * @return {!Array<!GridColumn>}\n     * @protected\n     */\n    _getChildColumns(el) {\n      return FlattenedNodesObserver.getFlattenedNodes(el).filter(this._isColumnElement);\n    }\n\n    /** @private */\n    _flattenColumnGroups(columns) {\n      return columns\n        .map((col) => {\n          if (col.localName === 'vaadin-grid-column-group') {\n            return this._getChildColumns(col);\n          }\n          return [col];\n        })\n        .reduce((prev, curr) => {\n          return prev.concat(curr);\n        }, []);\n    }\n\n    /** @private */\n    _getColumnTree() {\n      const rootColumns = FlattenedNodesObserver.getFlattenedNodes(this).filter(this._isColumnElement);\n      const columnTree = [rootColumns];\n\n      let c = rootColumns;\n      while (this._hasColumnGroups(c)) {\n        c = this._flattenColumnGroups(c);\n        columnTree.push(c);\n      }\n\n      return columnTree;\n    }\n\n    /** @protected */\n    _updateColumnTree() {\n      const columnTree = this._getColumnTree();\n      if (!arrayEquals(columnTree, this._columnTree)) {\n        this._columnTree = columnTree;\n      }\n    }\n\n    /** @private */\n    _addNodeObserver() {\n      this._observer = new FlattenedNodesObserver(this, (info) => {\n        const hasColumnElements = (nodeCollection) => nodeCollection.filter(this._isColumnElement).length > 0;\n        if (hasColumnElements(info.addedNodes) || hasColumnElements(info.removedNodes)) {\n          const allRemovedCells = info.removedNodes.flatMap((c) => c._allCells);\n          const filterNotConnected = (element) =>\n            allRemovedCells.filter((cell) => cell._content.contains(element)).length;\n\n          this.__removeSorters(this._sorters.filter(filterNotConnected));\n          this.__removeFilters(this._filters.filter(filterNotConnected));\n          this._updateColumnTree();\n        }\n\n        this._debouncerCheckImports = Debouncer.debounce(\n          this._debouncerCheckImports,\n          timeOut.after(2000),\n          this._checkImports.bind(this),\n        );\n\n        this._ensureFirstPageLoaded();\n      });\n    }\n\n    /** @protected */\n    _checkImports() {\n      [\n        'vaadin-grid-column-group',\n        'vaadin-grid-filter',\n        'vaadin-grid-filter-column',\n        'vaadin-grid-tree-toggle',\n        'vaadin-grid-selection-column',\n        'vaadin-grid-sort-column',\n        'vaadin-grid-sorter',\n      ].forEach((elementName) => {\n        const element = this.querySelector(elementName);\n        if (element && !(element instanceof PolymerElement)) {\n          console.warn(`Make sure you have imported the required module for <${elementName}> element.`);\n        }\n      });\n    }\n\n    /** @protected */\n    _updateFirstAndLastColumn() {\n      Array.from(this.shadowRoot.querySelectorAll('tr')).forEach((row) => this._updateFirstAndLastColumnForRow(row));\n    }\n\n    /**\n     * @param {!HTMLElement} row\n     * @protected\n     */\n    _updateFirstAndLastColumnForRow(row) {\n      Array.from(row.querySelectorAll('[part~=\"cell\"]:not([part~=\"details-cell\"])'))\n        .sort((a, b) => {\n          return a._column._order - b._column._order;\n        })\n        .forEach((cell, cellIndex, children) => {\n          cell.toggleAttribute('first-column', cellIndex === 0);\n          cell.toggleAttribute('last-column', cellIndex === children.length - 1);\n        });\n    }\n\n    /**\n     * @param {!Node} node\n     * @return {boolean}\n     * @protected\n     */\n    _isColumnElement(node) {\n      return node.nodeType === Node.ELEMENT_NODE && /\\bcolumn\\b/.test(node.localName);\n    }\n  };\n", "/**\n * @license\n * Copyright (c) 2016 - 2022 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * @polymerMixin\n */\nexport const EventContextMixin = (superClass) =>\n  class EventContextMixin extends superClass {\n    /**\n     * Returns an object with context information about the event target:\n     * - `item`: the data object corresponding to the targeted row (not specified when targeting header or footer)\n     * - `column`: the column element corresponding to the targeted cell (not specified when targeting row details)\n     * - `section`: whether the event targeted the body, header, footer or details of the grid\n     *\n     * These additional properties are included when `item` is specified:\n     * - `index`: the index of the item\n     * - `selected`: the selected state of the item\n     * - `detailsOpened`: whether the row details are open for the item\n     * - `expanded`: the expanded state of the tree toggle\n     * - `level`: the tree hierarchy level\n     *\n     * The returned object is populated only when a grid cell, header, footer or row details is found in `event.composedPath()`.\n     * This means mostly mouse and keyboard events. If such a grid part is not found in the path, an empty object is returned.\n     * This may be the case eg. if the event is fired on the `<vaadin-grid>` element and not any deeper in the DOM, or if\n     * the event targets the empty part of the grid body.\n     *\n     * @param {!Event} event\n     * @return {GridEventContext}\n     */\n    getEventContext(event) {\n      const context = {};\n\n      // Use `composedPath()` stored by vaadin-context-menu gesture\n      // to avoid problem when accessing it after a timeout on iOS\n      const path = event.__composedPath || event.composedPath();\n      const cell = path[path.indexOf(this.$.table) - 3];\n\n      if (!cell) {\n        return context;\n      }\n\n      context.section = ['body', 'header', 'footer', 'details'].filter(\n        (section) => cell.getAttribute('part').indexOf(section) > -1,\n      )[0];\n\n      if (cell._column) {\n        context.column = cell._column;\n      }\n\n      if (context.section === 'body' || context.section === 'details') {\n        Object.assign(context, this.__getRowModel(cell.parentElement));\n      }\n\n      return context;\n    }\n  };\n", "/**\n * @license\n * Copyright (c) 2016 - 2022 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * @polymerMixin\n */\nexport const FilterMixin = (superClass) =>\n  class FilterMixin extends superClass {\n    static get properties() {\n      return {\n        /** @private */\n        _filters: {\n          type: Array,\n          value: () => [],\n        },\n      };\n    }\n\n    /** @protected */\n    ready() {\n      super.ready();\n      this.addEventListener('filter-changed', this._filterChanged.bind(this));\n    }\n\n    /** @private */\n    _filterChanged(e) {\n      e.stopPropagation();\n\n      this.__addFilter(e.target);\n      this.__applyFilters();\n    }\n\n    /** @private */\n    __removeFilters(filtersToRemove) {\n      if (filtersToRemove.length === 0) {\n        return;\n      }\n\n      this._filters = this._filters.filter((filter) => filtersToRemove.indexOf(filter) < 0);\n      this.__applyFilters();\n    }\n\n    /** @private */\n    __addFilter(filter) {\n      const filterIndex = this._filters.indexOf(filter);\n\n      if (filterIndex === -1) {\n        this._filters.push(filter);\n      }\n    }\n\n    /** @private */\n    __applyFilters() {\n      if (this.dataProvider && this.isAttached) {\n        this.clearCache();\n      }\n    }\n\n    /**\n     * @return {!Array<!GridFilterDefinition>}\n     * @protected\n     */\n    _mapFilters() {\n      return this._filters.map((filter) => {\n        return {\n          path: filter.path,\n          value: filter.value,\n        };\n      });\n    }\n  };\n", "/**\n * @license\n * Copyright (c) 2016 - 2022 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * @polymerMixin\n */\nexport const KeyboardNavigationMixin = (superClass) =>\n  class KeyboardNavigationMixin extends superClass {\n    static get properties() {\n      return {\n        /** @private */\n        _headerFocusable: {\n          type: Object,\n          observer: '_focusableChanged',\n        },\n\n        /**\n         * @type {!HTMLElement | undefined}\n         * @protected\n         */\n        _itemsFocusable: {\n          type: Object,\n          observer: '_focusableChanged',\n        },\n\n        /** @private */\n        _footerFocusable: {\n          type: Object,\n          observer: '_focusableChanged',\n        },\n\n        /** @private */\n        _navigatingIsHidden: Boolean,\n\n        /**\n         * @type {number}\n         * @protected\n         */\n        _focusedItemIndex: {\n          type: Number,\n          value: 0,\n        },\n\n        /** @private */\n        _focusedColumnOrder: Number,\n\n        /**\n         * Indicates whether the grid is currently in interaction mode.\n         * In interaction mode the user is currently interacting with a control,\n         * such as an input or a select, within a cell.\n         * In interaction mode keyboard navigation between cells is disabled.\n         * Interaction mode also prevents the focus target cell of that section of\n         * the grid from receiving focus, allowing the user to switch focus to\n         * controls in adjacent cells, rather than focussing the outer cell\n         * itself.\n         * @type {boolean}\n         * @private\n         */\n        interacting: {\n          type: Boolean,\n          value: false,\n          reflectToAttribute: true,\n          readOnly: true,\n          observer: '_interactingChanged',\n        },\n      };\n    }\n\n    /** @protected */\n    ready() {\n      super.ready();\n\n      if (this._ios || this._android) {\n        // Disable keyboard navigation on mobile devices\n        return;\n      }\n\n      this.addEventListener('keydown', this._onKeyDown);\n      this.addEventListener('keyup', this._onKeyUp);\n\n      this.addEventListener('focusin', this._onFocusIn);\n      this.addEventListener('focusout', this._onFocusOut);\n\n      // When focus goes from cell to another cell, focusin/focusout events do\n      // not escape the grid\u2019s shadowRoot, thus listening inside the shadowRoot.\n      this.$.table.addEventListener('focusin', this._onContentFocusIn.bind(this));\n\n      this.addEventListener('mousedown', () => {\n        this.toggleAttribute('navigating', false);\n        this._isMousedown = true;\n\n        // Reset stored order when moving focus with mouse.\n        this._focusedColumnOrder = undefined;\n      });\n      this.addEventListener('mouseup', () => {\n        this._isMousedown = false;\n      });\n    }\n\n    /** @private */\n    get __rowFocusMode() {\n      return (\n        this.__isRow(this._itemsFocusable) || this.__isRow(this._headerFocusable) || this.__isRow(this._footerFocusable)\n      );\n    }\n\n    set __rowFocusMode(value) {\n      ['_itemsFocusable', '_footerFocusable', '_headerFocusable'].forEach((focusable) => {\n        if (value && this.__isCell(this[focusable])) {\n          this[focusable] = this[focusable].parentElement;\n        } else if (!value && this.__isRow(this[focusable])) {\n          this[focusable] = this[focusable].firstElementChild;\n        }\n      });\n    }\n\n    /** @private */\n    _focusableChanged(focusable, oldFocusable) {\n      if (oldFocusable) {\n        oldFocusable.setAttribute('tabindex', '-1');\n      }\n      if (focusable) {\n        this._updateGridSectionFocusTarget(focusable);\n      }\n    }\n\n    /** @private */\n    _interactingChanged() {\n      // Update focus targets when entering / exiting interaction mode\n      this._updateGridSectionFocusTarget(this._headerFocusable);\n      this._updateGridSectionFocusTarget(this._itemsFocusable);\n      this._updateGridSectionFocusTarget(this._footerFocusable);\n    }\n\n    /**\n     * Since the focused cell/row state is stored as an element reference, the reference may get\n     * out of sync when the virtual indexes for elements update due to effective size change.\n     * This function updates the reference to the correct element after a possible index change.\n     * @private\n     */\n    __updateItemsFocusable() {\n      if (!this._itemsFocusable) {\n        return;\n      }\n\n      const wasFocused = this.shadowRoot.activeElement === this._itemsFocusable;\n\n      this._getVisibleRows().forEach((row) => {\n        if (row.index === this._focusedItemIndex) {\n          if (this.__rowFocusMode) {\n            // Row focus mode\n            this._itemsFocusable = row;\n          } else if (this._itemsFocusable.parentElement) {\n            // Cell focus mode\n            const cellIndex = [...this._itemsFocusable.parentElement.children].indexOf(this._itemsFocusable);\n            this._itemsFocusable = row.children[cellIndex];\n          }\n        }\n      });\n\n      if (wasFocused) {\n        this._itemsFocusable.focus();\n      }\n    }\n\n    /**\n     * @param {!KeyboardEvent} e\n     * @protected\n     */\n    _onKeyDown(e) {\n      const key = e.key;\n\n      let keyGroup;\n      switch (key) {\n        case 'ArrowUp':\n        case 'ArrowDown':\n        case 'ArrowLeft':\n        case 'ArrowRight':\n        case 'PageUp':\n        case 'PageDown':\n        case 'Home':\n        case 'End':\n          keyGroup = 'Navigation';\n          break;\n        case 'Enter':\n        case 'Escape':\n        case 'F2':\n          keyGroup = 'Interaction';\n          break;\n        case 'Tab':\n          keyGroup = 'Tab';\n          break;\n        case ' ':\n          keyGroup = 'Space';\n          break;\n        default:\n          break;\n      }\n\n      this._detectInteracting(e);\n      if (this.interacting && keyGroup !== 'Interaction') {\n        // When in the interacting mode, only the \u201CInteraction\u201D keys are handled.\n        keyGroup = undefined;\n      }\n\n      if (keyGroup) {\n        this[`_on${keyGroup}KeyDown`](e, key);\n      }\n    }\n\n    /** @private */\n    _ensureScrolledToIndex(index) {\n      const targetRowInDom = [...this.$.items.children].find((child) => child.index === index);\n      if (!targetRowInDom) {\n        this.scrollToIndex(index);\n      } else {\n        this.__scrollIntoViewport(index);\n      }\n    }\n\n    /** @private */\n    __isRowExpandable(row) {\n      if (this.itemHasChildrenPath) {\n        const item = row._item;\n        return item && this.get(this.itemHasChildrenPath, item) && !this._isExpanded(item);\n      }\n    }\n\n    /** @private */\n    __isRowCollapsible(row) {\n      return this._isExpanded(row._item);\n    }\n\n    /** @private */\n    __isDetailsCell(element) {\n      return element.matches('[part~=\"details-cell\"]');\n    }\n\n    /** @private */\n    __isCell(element) {\n      return element instanceof HTMLTableCellElement;\n    }\n\n    /** @private */\n    __isRow(element) {\n      return element instanceof HTMLTableRowElement;\n    }\n\n    /** @private */\n    __getIndexOfChildElement(el) {\n      return Array.prototype.indexOf.call(el.parentNode.children, el);\n    }\n\n    /** @private */\n    _onNavigationKeyDown(e, key) {\n      e.preventDefault();\n\n      const visibleItemsCount = this._lastVisibleIndex - this._firstVisibleIndex - 1;\n\n      // Handle keyboard interaction as defined in:\n      // https://w3c.github.io/aria-practices/#keyboard-interaction-24\n\n      let dx = 0,\n        dy = 0;\n      switch (key) {\n        case 'ArrowRight':\n          dx = this.__isRTL ? -1 : 1;\n          break;\n        case 'ArrowLeft':\n          dx = this.__isRTL ? 1 : -1;\n          break;\n        case 'Home':\n          if (this.__rowFocusMode) {\n            // \"If focus is on a row, moves focus to the first row. If focus is in the first row, focus does not move.\"\n            dy = -Infinity;\n          } else if (e.ctrlKey) {\n            // \"If focus is on a cell, moves focus to the first cell in the column. If focus is in the first row, focus does not move.\"\n            dy = -Infinity;\n          } else {\n            // \"If focus is on a cell, moves focus to the first cell in the row. If focus is in the first cell of the row, focus does not move.\"\n            dx = -Infinity;\n          }\n          break;\n        case 'End':\n          if (this.__rowFocusMode) {\n            // \"If focus is on a row, moves focus to the last row. If focus is in the last row, focus does not move.\"\n            dy = Infinity;\n          } else if (e.ctrlKey) {\n            // \"If focus is on a cell, moves focus to the last cell in the column. If focus is in the last row, focus does not move.\"\n            dy = Infinity;\n          } else {\n            // \"If focus is on a cell, moves focus to the last cell in the row. If focus is in the last cell of the row, focus does not move.\"\n            dx = Infinity;\n          }\n          break;\n        case 'ArrowDown':\n          dy = 1;\n          break;\n        case 'ArrowUp':\n          dy = -1;\n          break;\n        case 'PageDown':\n          dy = visibleItemsCount;\n          break;\n        case 'PageUp':\n          dy = -visibleItemsCount;\n          break;\n        default:\n          break;\n      }\n\n      const activeRow = e.composedPath().find((el) => this.__isRow(el));\n      const activeCell = e.composedPath().find((el) => this.__isCell(el));\n\n      if ((this.__rowFocusMode && !activeRow) || (!this.__rowFocusMode && !activeCell)) {\n        // When using a screen reader, it's possible that neither a cell nor a row is focused.\n        return;\n      }\n\n      const forwardsKey = this.__isRTL ? 'ArrowLeft' : 'ArrowRight';\n      const backwardsKey = this.__isRTL ? 'ArrowRight' : 'ArrowLeft';\n      if (key === forwardsKey) {\n        // \"Right Arrow:\"\n        if (this.__rowFocusMode) {\n          // In row focus mode\n          if (this.__isRowExpandable(activeRow)) {\n            // \"If focus is on a collapsed row, expands the row.\"\n            this.expandItem(activeRow._item);\n            return;\n          }\n          // \"If focus is on an expanded row or is on a row that does not have child rows,\n          // moves focus to the first cell in the row.\"\n          this.__rowFocusMode = false;\n          this._onCellNavigation(activeRow.firstElementChild, 0, 0);\n          return;\n        }\n      } else if (key === backwardsKey) {\n        // \"Left Arrow:\"\n        if (this.__rowFocusMode) {\n          // In row focus mode\n          if (this.__isRowCollapsible(activeRow)) {\n            // \"If focus is on an expanded row, collapses the row.\"\n            this.collapseItem(activeRow._item);\n            return;\n          }\n        } else {\n          // In cell focus mode\n          const activeRowCells = [...activeRow.children].sort((a, b) => a._order - b._order);\n          if (activeCell === activeRowCells[0] || this.__isDetailsCell(activeCell)) {\n            // \"If focus is on the first cell in a row and row focus is supported, moves focus to the row.\"\n            this.__rowFocusMode = true;\n            this._onRowNavigation(activeRow, 0);\n            return;\n          }\n        }\n      }\n\n      // Navigate\n      if (this.__rowFocusMode) {\n        // Navigate the rows\n        this._onRowNavigation(activeRow, dy);\n      } else {\n        // Navigate the cells\n        this._onCellNavigation(activeCell, dx, dy);\n      }\n    }\n\n    /**\n     * Focuses the target row after navigating by the given dy offset.\n     * If the row is not in the viewport, it is first scrolled to.\n     * @private\n     */\n    _onRowNavigation(activeRow, dy) {\n      const { dstRow } = this.__navigateRows(dy, activeRow);\n\n      if (dstRow) {\n        dstRow.focus();\n      }\n    }\n\n    /** @private */\n    __getIndexInGroup(row, bodyFallbackIndex) {\n      const rowGroup = row.parentNode;\n      // Body rows have index property, otherwise DOM child index of the row is used.\n      if (rowGroup === this.$.items) {\n        return bodyFallbackIndex !== undefined ? bodyFallbackIndex : row.index;\n      }\n      return this.__getIndexOfChildElement(row);\n    }\n\n    /**\n     * Returns the target row after navigating by the given dy offset.\n     * Also returns information whether the details cell should be the target on the target row.\n     * If the row is not in the viewport, it is first scrolled to.\n     * @private\n     */\n    __navigateRows(dy, activeRow, activeCell) {\n      const currentRowIndex = this.__getIndexInGroup(activeRow, this._focusedItemIndex);\n      const activeRowGroup = activeRow.parentNode;\n      const maxRowIndex = (activeRowGroup === this.$.items ? this._effectiveSize : activeRowGroup.children.length) - 1;\n\n      // Index of the destination row\n      let dstRowIndex = Math.max(0, Math.min(currentRowIndex + dy, maxRowIndex));\n\n      if (activeRowGroup !== this.$.items) {\n        // Navigating header/footer rows\n\n        // Header and footer could have hidden rows, e. g., if none of the columns\n        // or groups on the given column tree level define template. Skip them\n        // in vertical keyboard navigation.\n        if (dstRowIndex > currentRowIndex) {\n          while (dstRowIndex < maxRowIndex && activeRowGroup.children[dstRowIndex].hidden) {\n            dstRowIndex += 1;\n          }\n        } else if (dstRowIndex < currentRowIndex) {\n          while (dstRowIndex > 0 && activeRowGroup.children[dstRowIndex].hidden) {\n            dstRowIndex -= 1;\n          }\n        }\n\n        this.toggleAttribute('navigating', true);\n\n        return { dstRow: activeRowGroup.children[dstRowIndex] };\n      }\n      // Navigating body rows\n\n      let dstIsRowDetails = false;\n      if (activeCell) {\n        const isRowDetails = this.__isDetailsCell(activeCell);\n        // Row details navigation logic\n        if (activeRowGroup === this.$.items) {\n          const item = activeRow._item;\n          const dstItem = this._cache.getItemForIndex(dstRowIndex);\n          // Should we navigate to row details?\n          if (isRowDetails) {\n            dstIsRowDetails = dy === 0;\n          } else {\n            dstIsRowDetails =\n              (dy === 1 && this._isDetailsOpened(item)) ||\n              (dy === -1 && dstRowIndex !== currentRowIndex && this._isDetailsOpened(dstItem));\n          }\n          // Should we navigate between details and regular cells of the same row?\n          if (dstIsRowDetails !== isRowDetails && ((dy === 1 && dstIsRowDetails) || (dy === -1 && !dstIsRowDetails))) {\n            dstRowIndex = currentRowIndex;\n          }\n        }\n      }\n\n      // Ensure correct vertical scroll position, destination row is visible\n      this._ensureScrolledToIndex(dstRowIndex);\n\n      // When scrolling with repeated keydown, sometimes FocusEvent listeners\n      // are too late to update _focusedItemIndex. Ensure next keydown\n      // listener invocation gets updated _focusedItemIndex value.\n      this._focusedItemIndex = dstRowIndex;\n\n      // This has to be set after scrolling, otherwise it can be removed by\n      // `_preventScrollerRotatingCellFocus(row, index)` during scrolling.\n      this.toggleAttribute('navigating', true);\n\n      return {\n        dstRow: [...activeRowGroup.children].find((el) => !el.hidden && el.index === dstRowIndex),\n        dstIsRowDetails,\n      };\n    }\n\n    /**\n     * Focuses the target cell after navigating by the given dx and dy offset.\n     * If the cell is not in the viewport, it is first scrolled to.\n     * @private\n     */\n    _onCellNavigation(activeCell, dx, dy) {\n      const activeRow = activeCell.parentNode;\n      const { dstRow, dstIsRowDetails } = this.__navigateRows(dy, activeRow, activeCell);\n      if (!dstRow) {\n        return;\n      }\n\n      const columnIndex = this.__getIndexOfChildElement(activeCell);\n      const isCurrentCellRowDetails = this.__isDetailsCell(activeCell);\n      const activeRowGroup = activeRow.parentNode;\n      const currentRowIndex = this.__getIndexInGroup(activeRow, this._focusedItemIndex);\n\n      // _focusedColumnOrder is memoized \u2014 this is to ensure predictable\n      // navigation when entering and leaving detail and column group cells.\n      if (this._focusedColumnOrder === undefined) {\n        if (isCurrentCellRowDetails) {\n          this._focusedColumnOrder = 0;\n        } else {\n          this._focusedColumnOrder = this._getColumns(activeRowGroup, currentRowIndex).filter((c) => !c.hidden)[\n            columnIndex\n          ]._order;\n        }\n      }\n\n      if (dstIsRowDetails) {\n        // Focusing a row details cell on the destination row\n        const dstCell = [...dstRow.children].find((el) => this.__isDetailsCell(el));\n        dstCell.focus();\n      } else {\n        // Focusing a regular cell on the destination row\n\n        // Find orderedColumnIndex \u2014 the index of order closest matching the\n        // original _focusedColumnOrder in the sorted array of orders\n        // of the visible columns on the destination row.\n        const dstRowIndex = this.__getIndexInGroup(dstRow, this._focusedItemIndex);\n        const dstColumns = this._getColumns(activeRowGroup, dstRowIndex).filter((c) => !c.hidden);\n        const dstSortedColumnOrders = dstColumns.map((c) => c._order).sort((b, a) => b - a);\n        const maxOrderedColumnIndex = dstSortedColumnOrders.length - 1;\n        const orderedColumnIndex = dstSortedColumnOrders.indexOf(\n          dstSortedColumnOrders\n            .slice(0)\n            .sort((b, a) => Math.abs(b - this._focusedColumnOrder) - Math.abs(a - this._focusedColumnOrder))[0],\n        );\n\n        // Index of the destination column order\n        const dstOrderedColumnIndex =\n          dy === 0 && isCurrentCellRowDetails\n            ? orderedColumnIndex\n            : Math.max(0, Math.min(orderedColumnIndex + dx, maxOrderedColumnIndex));\n\n        if (dstOrderedColumnIndex !== orderedColumnIndex) {\n          // Horizontal movement invalidates stored _focusedColumnOrder\n          this._focusedColumnOrder = undefined;\n        }\n\n        const columnIndexByOrder = dstColumns.reduce((acc, col, i) => {\n          acc[col._order] = i;\n          return acc;\n        }, {});\n        const dstColumnIndex = columnIndexByOrder[dstSortedColumnOrders[dstOrderedColumnIndex]];\n        const dstCell = dstRow.children[dstColumnIndex];\n\n        this._scrollHorizontallyToCell(dstCell);\n        dstCell.focus();\n      }\n    }\n\n    /** @private */\n    _onInteractionKeyDown(e, key) {\n      const localTarget = e.composedPath()[0];\n      const localTargetIsTextInput =\n        localTarget.localName === 'input' &&\n        !/^(button|checkbox|color|file|image|radio|range|reset|submit)$/i.test(localTarget.type);\n\n      let wantInteracting;\n      switch (key) {\n        case 'Enter':\n          wantInteracting = this.interacting ? !localTargetIsTextInput : true;\n          break;\n        case 'Escape':\n          wantInteracting = false;\n          break;\n        case 'F2':\n          wantInteracting = !this.interacting;\n          break;\n        default:\n          break;\n      }\n\n      const { cell } = this._getGridEventLocation(e);\n\n      if (this.interacting !== wantInteracting && cell !== null) {\n        if (wantInteracting) {\n          const focusTarget =\n            cell._content.querySelector('[focus-target]') ||\n            // If a child element hasn't been explicitly marked as a focus target,\n            // fall back to any focusable element inside the cell.\n            [...cell._content.querySelectorAll('*')].find((node) => this._isFocusable(node));\n          if (focusTarget) {\n            e.preventDefault();\n            focusTarget.focus();\n            this._setInteracting(true);\n            this.toggleAttribute('navigating', false);\n          }\n        } else {\n          e.preventDefault();\n          this._focusedColumnOrder = undefined;\n          cell.focus();\n          this._setInteracting(false);\n          this.toggleAttribute('navigating', true);\n        }\n      }\n    }\n\n    /** @private */\n    _predictFocusStepTarget(srcElement, step) {\n      const tabOrder = [\n        this.$.table,\n        this._headerFocusable,\n        this._itemsFocusable,\n        this._footerFocusable,\n        this.$.focusexit,\n      ];\n\n      let index = tabOrder.indexOf(srcElement);\n\n      index += step;\n      while (index >= 0 && index <= tabOrder.length - 1) {\n        let rowElement = tabOrder[index];\n        if (rowElement && !this.__rowFocusMode) {\n          rowElement = tabOrder[index].parentNode;\n        }\n\n        if (!rowElement || rowElement.hidden) {\n          index += step;\n        } else {\n          break;\n        }\n      }\n\n      return tabOrder[index];\n    }\n\n    /** @private */\n    _onTabKeyDown(e) {\n      const focusTarget = this._predictFocusStepTarget(e.composedPath()[0], e.shiftKey ? -1 : 1);\n\n      // Can be undefined if grid has tabindex\n      if (!focusTarget) {\n        return;\n      }\n\n      // Prevent focus-trap logic from intercepting the event.\n      e.stopPropagation();\n\n      if (focusTarget === this.$.table) {\n        // The focus is about to exit the grid to the top.\n        this.$.table.focus();\n      } else if (focusTarget === this.$.focusexit) {\n        // The focus is about to exit the grid to the bottom.\n        this.$.focusexit.focus();\n      } else if (focusTarget === this._itemsFocusable) {\n        let itemsFocusTarget = focusTarget;\n        const targetRow = this.__isRow(focusTarget) ? focusTarget : focusTarget.parentNode;\n        this._ensureScrolledToIndex(this._focusedItemIndex);\n        if (targetRow.index !== this._focusedItemIndex && this.__isCell(focusTarget)) {\n          // The target row, which is about to be focused next, has been\n          // assigned with a new index since last focus, probably because of\n          // scrolling. Focus the row for the stored focused item index instead.\n          const columnIndex = Array.from(targetRow.children).indexOf(this._itemsFocusable);\n          const focusedItemRow = Array.from(this.$.items.children).find(\n            (row) => !row.hidden && row.index === this._focusedItemIndex,\n          );\n          if (focusedItemRow) {\n            itemsFocusTarget = focusedItemRow.children[columnIndex];\n          }\n        }\n        e.preventDefault();\n        itemsFocusTarget.focus();\n      } else {\n        e.preventDefault();\n        focusTarget.focus();\n      }\n\n      this.toggleAttribute('navigating', true);\n    }\n\n    /** @private */\n    _onSpaceKeyDown(e) {\n      e.preventDefault();\n\n      const element = e.composedPath()[0];\n      const isRow = this.__isRow(element);\n      if (isRow || !element._content || !element._content.firstElementChild) {\n        this.dispatchEvent(\n          new CustomEvent(isRow ? 'row-activate' : 'cell-activate', {\n            detail: {\n              model: this.__getRowModel(isRow ? element : element.parentElement),\n            },\n          }),\n        );\n      }\n    }\n\n    /** @private */\n    _onKeyUp(e) {\n      if (!/^( |SpaceBar)$/.test(e.key) || this.interacting) {\n        return;\n      }\n\n      e.preventDefault();\n\n      const cell = e.composedPath()[0];\n      if (cell._content && cell._content.firstElementChild) {\n        const wasNavigating = this.hasAttribute('navigating');\n        cell._content.firstElementChild.click();\n        this.toggleAttribute('navigating', wasNavigating);\n      }\n    }\n\n    /**\n     * @param {!FocusEvent} e\n     * @protected\n     */\n    _onFocusIn(e) {\n      if (!this._isMousedown) {\n        this.toggleAttribute('navigating', true);\n      }\n\n      const rootTarget = e.composedPath()[0];\n\n      if (rootTarget === this.$.table || rootTarget === this.$.focusexit) {\n        // The focus enters the top (bottom) of the grid, meaning that user has\n        // tabbed (shift-tabbed) into the grid. Move the focus to\n        // the first (the last) focusable.\n        this._predictFocusStepTarget(rootTarget, rootTarget === this.$.table ? 1 : -1).focus();\n        this._setInteracting(false);\n      } else {\n        this._detectInteracting(e);\n      }\n    }\n\n    /**\n     * @param {!FocusEvent} e\n     * @protected\n     */\n    _onFocusOut(e) {\n      this.toggleAttribute('navigating', false);\n      this._detectInteracting(e);\n    }\n\n    /** @private */\n    _onContentFocusIn(e) {\n      const { section, cell, row } = this._getGridEventLocation(e);\n\n      if (!cell && !this.__rowFocusMode) {\n        return;\n      }\n\n      this._detectInteracting(e);\n\n      if (section && (cell || row)) {\n        this._activeRowGroup = section;\n        if (this.$.header === section) {\n          this._headerFocusable = this.__rowFocusMode ? row : cell;\n        } else if (this.$.items === section) {\n          this._itemsFocusable = this.__rowFocusMode ? row : cell;\n        } else if (this.$.footer === section) {\n          this._footerFocusable = this.__rowFocusMode ? row : cell;\n        }\n\n        if (cell) {\n          // Fire a public event for cell.\n          const context = this.getEventContext(e);\n          cell.dispatchEvent(new CustomEvent('cell-focus', { bubbles: true, composed: true, detail: { context } }));\n        }\n      }\n\n      this._detectFocusedItemIndex(e);\n    }\n\n    /**\n     * Enables interaction mode if a cells descendant receives focus or keyboard\n     * input. Disables it if the event is not related to cell content.\n     * @param {!KeyboardEvent|!FocusEvent} e\n     * @private\n     */\n    _detectInteracting(e) {\n      const isInteracting = e.composedPath().some((el) => el.localName === 'vaadin-grid-cell-content');\n      this._setInteracting(isInteracting);\n      this.__updateHorizontalScrollPosition();\n    }\n\n    /** @private */\n    _detectFocusedItemIndex(e) {\n      const { section, row } = this._getGridEventLocation(e);\n      if (section === this.$.items) {\n        this._focusedItemIndex = row.index;\n      }\n    }\n\n    /**\n     * Enables or disables the focus target of the containing section of the\n     * grid from receiving focus, based on whether the user is interacting with\n     * that section of the grid.\n     * @param {HTMLElement} focusTarget\n     * @private\n     */\n    _updateGridSectionFocusTarget(focusTarget) {\n      if (!focusTarget) {\n        return;\n      }\n\n      const section = this._getGridSectionFromFocusTarget(focusTarget);\n      const isInteractingWithinActiveSection = this.interacting && section === this._activeRowGroup;\n\n      focusTarget.tabIndex = isInteractingWithinActiveSection ? -1 : 0;\n    }\n\n    /**\n     * @param {!HTMLTableRowElement} row\n     * @param {number} index\n     * @protected\n     */\n    _preventScrollerRotatingCellFocus(row, index) {\n      if (\n        row.index === this._focusedItemIndex &&\n        this.hasAttribute('navigating') &&\n        this._activeRowGroup === this.$.items\n      ) {\n        // Focused item has went, hide navigation mode\n        this._navigatingIsHidden = true;\n        this.toggleAttribute('navigating', false);\n      }\n      if (index === this._focusedItemIndex && this._navigatingIsHidden) {\n        // Focused item is back, restore navigation mode\n        this._navigatingIsHidden = false;\n        this.toggleAttribute('navigating', true);\n      }\n    }\n\n    /**\n     * @param {HTMLTableSectionElement=} rowGroup\n     * @param {number=} rowIndex\n     * @return {!Array<!GridColumn>}\n     * @protected\n     */\n    _getColumns(rowGroup, rowIndex) {\n      let columnTreeLevel = this._columnTree.length - 1;\n      if (rowGroup === this.$.header) {\n        columnTreeLevel = rowIndex;\n      } else if (rowGroup === this.$.footer) {\n        columnTreeLevel = this._columnTree.length - 1 - rowIndex;\n      }\n      return this._columnTree[columnTreeLevel];\n    }\n\n    /** @private */\n    __isValidFocusable(element) {\n      return this.$.table.contains(element) && element.offsetHeight;\n    }\n\n    /** @protected */\n    _resetKeyboardNavigation() {\n      // Header / footer\n      ['header', 'footer'].forEach((section) => {\n        if (!this.__isValidFocusable(this[`_${section}Focusable`])) {\n          const firstVisibleRow = [...this.$[section].children].find((row) => row.offsetHeight);\n          const firstVisibleCell = firstVisibleRow ? [...firstVisibleRow.children].find((cell) => !cell.hidden) : null;\n          if (firstVisibleRow && firstVisibleCell) {\n            this[`_${section}Focusable`] = this.__rowFocusMode ? firstVisibleRow : firstVisibleCell;\n          }\n        }\n      });\n\n      // Body\n      if (!this.__isValidFocusable(this._itemsFocusable) && this.$.items.firstElementChild) {\n        const firstVisibleRow = this.__getFirstVisibleItem();\n        const firstVisibleCell = firstVisibleRow ? [...firstVisibleRow.children].find((cell) => !cell.hidden) : null;\n\n        if (firstVisibleCell && firstVisibleRow) {\n          // Reset memoized column\n          delete this._focusedColumnOrder;\n          this._itemsFocusable = this.__rowFocusMode ? firstVisibleRow : firstVisibleCell;\n        }\n      } else {\n        this.__updateItemsFocusable();\n      }\n    }\n\n    /**\n     * @param {!HTMLElement} dstCell\n     * @protected\n     */\n    _scrollHorizontallyToCell(dstCell) {\n      if (dstCell.hasAttribute('frozen') || dstCell.hasAttribute('frozen-to-end') || this.__isDetailsCell(dstCell)) {\n        // These cells are, by design, always visible, no need to scroll.\n        return;\n      }\n\n      const dstCellRect = dstCell.getBoundingClientRect();\n      const dstRow = dstCell.parentNode;\n      const dstCellIndex = Array.from(dstRow.children).indexOf(dstCell);\n      const tableRect = this.$.table.getBoundingClientRect();\n      let leftBoundary = tableRect.left,\n        rightBoundary = tableRect.right;\n      for (let i = dstCellIndex - 1; i >= 0; i--) {\n        const cell = dstRow.children[i];\n        if (cell.hasAttribute('hidden') || this.__isDetailsCell(cell)) {\n          continue;\n        }\n        if (cell.hasAttribute('frozen') || cell.hasAttribute('frozen-to-end')) {\n          leftBoundary = cell.getBoundingClientRect().right;\n          break;\n        }\n      }\n      for (let i = dstCellIndex + 1; i < dstRow.children.length; i++) {\n        const cell = dstRow.children[i];\n        if (cell.hasAttribute('hidden') || this.__isDetailsCell(cell)) {\n          continue;\n        }\n        if (cell.hasAttribute('frozen') || cell.hasAttribute('frozen-to-end')) {\n          rightBoundary = cell.getBoundingClientRect().left;\n          break;\n        }\n      }\n\n      if (dstCellRect.left < leftBoundary) {\n        this.$.table.scrollLeft += Math.round(dstCellRect.left - leftBoundary);\n      }\n      if (dstCellRect.right > rightBoundary) {\n        this.$.table.scrollLeft += Math.round(dstCellRect.right - rightBoundary);\n      }\n    }\n\n    /**\n     * @typedef {Object} GridEventLocation\n     * @property {HTMLTableSectionElement | null} section - The table section element that the event occurred in (header, body, or footer), or null if the event did not occur in a section\n     * @property {HTMLTableRowElement | null} row - The row element that the event occurred in, or null if the event did not occur in a row\n     * @property {HTMLTableCellElement | null} cell - The cell element that the event occurred in, or null if the event did not occur in a cell\n     * @private\n     */\n    /**\n     * Takes an event and returns a location object describing in which part of the grid the event occurred.\n     * The event may either target table section, a row, a cell or contents of a cell.\n     * @param {Event} e\n     * @returns {GridEventLocation}\n     * @private\n     */\n    _getGridEventLocation(e) {\n      const path = e.composedPath();\n      const tableIndex = path.indexOf(this.$.table);\n      // Assuming ascending path to table is: [...,] th|td, tr, thead|tbody, table [,...]\n      const section = tableIndex >= 1 ? path[tableIndex - 1] : null;\n      const row = tableIndex >= 2 ? path[tableIndex - 2] : null;\n      const cell = tableIndex >= 3 ? path[tableIndex - 3] : null;\n\n      return {\n        section,\n        row,\n        cell,\n      };\n    }\n\n    /**\n     * Helper method that maps a focus target cell to the containing grid section\n     * @param {HTMLElement} focusTarget\n     * @returns {HTMLTableSectionElement | null}\n     * @private\n     */\n    _getGridSectionFromFocusTarget(focusTarget) {\n      if (focusTarget === this._headerFocusable) {\n        return this.$.header;\n      }\n      if (focusTarget === this._itemsFocusable) {\n        return this.$.items;\n      }\n      if (focusTarget === this._footerFocusable) {\n        return this.$.footer;\n      }\n      return null;\n    }\n\n    /**\n     * Fired when a cell is focused with click or keyboard navigation.\n     *\n     * Use context property of @see {@link GridCellFocusEvent} to get detail information about the event.\n     *\n     * @event cell-focus\n     */\n  };\n", "/**\n * @license\n * Copyright (c) 2016 - 2022 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * @polymerMixin\n */\nexport const RowDetailsMixin = (superClass) =>\n  class RowDetailsMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * An array containing references to items with open row details.\n         * @type {!Array<!GridItem>}\n         */\n        detailsOpenedItems: {\n          type: Array,\n          value: () => [],\n        },\n\n        /**\n         * Custom function for rendering the content of the row details.\n         * Receives three arguments:\n         *\n         * - `root` The row details content DOM element. Append your content to it.\n         * - `grid` The `<vaadin-grid>` element.\n         * - `model` The object with the properties related with\n         *   the rendered item, contains:\n         *   - `model.index` The index of the item.\n         *   - `model.item` The item.\n         *   - `model.level` The number of the item's tree sublevel, starts from 0.\n         *   - `model.expanded` True if the item's tree sublevel is expanded.\n         *   - `model.selected` True if the item is selected.\n         *\n         * @type {GridRowDetailsRenderer | null | undefined}\n         */\n        rowDetailsRenderer: Function,\n\n        /**\n         * @type {!Array<!HTMLElement> | undefined}\n         * @protected\n         */\n        _detailsCells: {\n          type: Array,\n        },\n      };\n    }\n\n    static get observers() {\n      return [\n        '_detailsOpenedItemsChanged(detailsOpenedItems.*, rowDetailsRenderer)',\n        '_rowDetailsRendererChanged(rowDetailsRenderer)',\n      ];\n    }\n\n    /** @protected */\n    ready() {\n      super.ready();\n\n      this._detailsCellResizeObserver = new ResizeObserver((entries) => {\n        entries.forEach(({ target: cell }) => {\n          this._updateDetailsCellHeight(cell.parentElement);\n        });\n\n        // This workaround is needed until Safari also supports\n        // ResizeObserver.observe with {box: 'border-box'}\n        this.__virtualizer.__adapter._resizeHandler();\n      });\n    }\n\n    /** @private */\n    _rowDetailsRendererChanged(rowDetailsRenderer) {\n      if (!rowDetailsRenderer) {\n        return;\n      }\n\n      if (this._columnTree) {\n        // Only update the rows if the column tree has already been initialized\n        Array.from(this.$.items.children).forEach((row) => {\n          if (!row.querySelector('[part~=details-cell]')) {\n            this._updateRow(row, this._columnTree[this._columnTree.length - 1]);\n            const isDetailsOpened = this._isDetailsOpened(row._item);\n            this._toggleDetailsCell(row, isDetailsOpened);\n          }\n        });\n      }\n    }\n\n    /** @private */\n    _detailsOpenedItemsChanged(changeRecord, rowDetailsRenderer) {\n      // Skip to avoid duplicate work of both \u201C.splices\u201D and \u201C.length\u201D updates.\n      if (changeRecord.path === 'detailsOpenedItems.length' || !changeRecord.value) {\n        return;\n      }\n\n      [...this.$.items.children].forEach((row) => {\n        // Re-renders the row to possibly close the previously opened details.\n        if (row.hasAttribute('details-opened')) {\n          this._updateItem(row, row._item);\n          return;\n        }\n\n        // Re-renders the row to open the details when a row details renderer is provided.\n        if (rowDetailsRenderer && this._isDetailsOpened(row._item)) {\n          this._updateItem(row, row._item);\n        }\n      });\n    }\n\n    /**\n     * @param {!HTMLElement} cell\n     * @protected\n     */\n    _configureDetailsCell(cell) {\n      cell.setAttribute('part', 'cell details-cell');\n      // Freeze the details cell, so that it does not scroll horizontally\n      // with the normal cells. This way it looks less weird.\n      cell.toggleAttribute('frozen', true);\n\n      this._detailsCellResizeObserver.observe(cell);\n    }\n\n    /**\n     * @param {!HTMLElement} row\n     * @param {!GridItem} item\n     * @protected\n     */\n    _toggleDetailsCell(row, detailsOpened) {\n      const cell = row.querySelector('[part~=\"details-cell\"]');\n      if (!cell) {\n        return;\n      }\n\n      cell.hidden = !detailsOpened;\n\n      if (cell.hidden) {\n        return;\n      }\n\n      // Assigns a renderer when the details cell is opened.\n      // The details cell content is rendered later in the `_updateItem` method.\n      if (this.rowDetailsRenderer) {\n        cell._renderer = this.rowDetailsRenderer;\n      }\n    }\n\n    /** @protected */\n    _updateDetailsCellHeight(row) {\n      const cell = row.querySelector('[part~=\"details-cell\"]');\n      if (!cell) {\n        return;\n      }\n\n      if (cell.hidden) {\n        row.style.removeProperty('padding-bottom');\n      } else {\n        row.style.setProperty('padding-bottom', `${cell.offsetHeight}px`);\n      }\n    }\n\n    /** @protected */\n    _updateDetailsCellHeights() {\n      [...this.$.items.children].forEach((row) => {\n        this._updateDetailsCellHeight(row);\n      });\n    }\n\n    /**\n     * @param {!GridItem} item\n     * @return {boolean}\n     * @protected\n     */\n    _isDetailsOpened(item) {\n      return this.detailsOpenedItems && this._getItemIndexInArray(item, this.detailsOpenedItems) !== -1;\n    }\n\n    /**\n     * Open the details row of a given item.\n     * @param {!GridItem} item\n     */\n    openItemDetails(item) {\n      if (!this._isDetailsOpened(item)) {\n        this.detailsOpenedItems = [...this.detailsOpenedItems, item];\n      }\n    }\n\n    /**\n     * Close the details row of a given item.\n     * @param {!GridItem} item\n     */\n    closeItemDetails(item) {\n      if (this._isDetailsOpened(item)) {\n        this.detailsOpenedItems = this.detailsOpenedItems.filter((i) => !this._itemsEqual(i, item));\n      }\n    }\n  };\n", "/**\n * @license\n * Copyright (c) 2016 - 2022 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { animationFrame, microTask, timeOut } from '@vaadin/component-base/src/async.js';\nimport { Debouncer } from '@vaadin/component-base/src/debounce.js';\nimport { ResizeMixin } from '@vaadin/component-base/src/resize-mixin.js';\n\nconst timeouts = {\n  SCROLLING: 500,\n};\n\n/**\n * @polymerMixin\n */\nexport const ScrollMixin = (superClass) =>\n  class ScrollMixin extends ResizeMixin(superClass) {\n    static get properties() {\n      return {\n        /**\n         * Cached array of frozen cells\n         * @private\n         */\n        _frozenCells: {\n          type: Array,\n          value: () => [],\n        },\n\n        /**\n         * Cached array of cells frozen to end\n         * @private\n         */\n        _frozenToEndCells: {\n          type: Array,\n          value: () => [],\n        },\n\n        /** @private */\n        _rowWithFocusedElement: Element,\n      };\n    }\n\n    /** @private */\n    get _scrollTop() {\n      return this.$.table.scrollTop;\n    }\n\n    /**\n     * Override (from iron-scroll-target-behavior) to avoid document scroll\n     * @private\n     */\n    set _scrollTop(top) {\n      this.$.table.scrollTop = top;\n    }\n\n    /** @private */\n    get _scrollLeft() {\n      return this.$.table.scrollLeft;\n    }\n\n    /** @protected */\n    ready() {\n      super.ready();\n\n      this.scrollTarget = this.$.table;\n\n      this.$.items.addEventListener('focusin', (e) => {\n        const itemsIndex = e.composedPath().indexOf(this.$.items);\n        this._rowWithFocusedElement = e.composedPath()[itemsIndex - 1];\n      });\n      this.$.items.addEventListener('focusout', () => {\n        this._rowWithFocusedElement = undefined;\n      });\n\n      this.$.table.addEventListener('scroll', () => this._afterScroll());\n    }\n\n    /**\n     * @protected\n     * @override\n     */\n    _onResize() {\n      this._updateOverflow();\n      this.__updateHorizontalScrollPosition();\n    }\n\n    /**\n     * Scroll to a specific row index in the virtual list. Note that the row index is\n     * not always the same for any particular item. For example, sorting/filtering/expanding\n     * or collapsing hierarchical items can affect the row index related to an item.\n     *\n     * @param {number} index Row index to scroll to\n     */\n    scrollToIndex(index) {\n      index = Math.min(this._effectiveSize - 1, Math.max(0, index));\n      this.__virtualizer.scrollToIndex(index);\n      this.__scrollIntoViewport(index);\n    }\n\n    /**\n     * Makes sure the row with the given index (if found in the DOM) is fully\n     * inside the visible viewport, taking header/footer into account.\n     * @private\n     */\n    __scrollIntoViewport(index) {\n      const rowElement = [...this.$.items.children].find((child) => child.index === index);\n      if (rowElement) {\n        const dstRect = rowElement.getBoundingClientRect();\n        const footerTop = this.$.footer.getBoundingClientRect().top;\n        const headerBottom = this.$.header.getBoundingClientRect().bottom;\n        if (dstRect.bottom > footerTop) {\n          this.$.table.scrollTop += dstRect.bottom - footerTop;\n        } else if (dstRect.top < headerBottom) {\n          this.$.table.scrollTop -= headerBottom - dstRect.top;\n        }\n      }\n    }\n\n    /** @private */\n    _scheduleScrolling() {\n      if (!this._scrollingFrame) {\n        // Defer setting state attributes to avoid Edge hiccups\n        this._scrollingFrame = requestAnimationFrame(() => this.$.scroller.toggleAttribute('scrolling', true));\n      }\n      this._debounceScrolling = Debouncer.debounce(this._debounceScrolling, timeOut.after(timeouts.SCROLLING), () => {\n        cancelAnimationFrame(this._scrollingFrame);\n        delete this._scrollingFrame;\n        this.$.scroller.toggleAttribute('scrolling', false);\n      });\n    }\n\n    /** @private */\n    _afterScroll() {\n      this.__updateHorizontalScrollPosition();\n\n      if (!this.hasAttribute('reordering')) {\n        this._scheduleScrolling();\n      }\n\n      this._updateOverflow();\n    }\n\n    /** @private */\n    _updateOverflow() {\n      // Set overflow styling attributes\n      let overflow = '';\n      const table = this.$.table;\n      if (table.scrollTop < table.scrollHeight - table.clientHeight) {\n        overflow += ' bottom';\n      }\n\n      if (table.scrollTop > 0) {\n        overflow += ' top';\n      }\n\n      const scrollLeft = this.__getNormalizedScrollLeft(table);\n      if (scrollLeft > 0) {\n        overflow += ' start';\n      }\n\n      if (scrollLeft < table.scrollWidth - table.clientWidth) {\n        overflow += ' end';\n      }\n\n      if (this.__isRTL) {\n        overflow = overflow.replace(/start|end/gi, (matched) => {\n          return matched === 'start' ? 'end' : 'start';\n        });\n      }\n\n      // TODO: Remove \"right\" and \"left\" values in the next major.\n      if (table.scrollLeft < table.scrollWidth - table.clientWidth) {\n        overflow += ' right';\n      }\n\n      if (table.scrollLeft > 0) {\n        overflow += ' left';\n      }\n\n      this._debounceOverflow = Debouncer.debounce(this._debounceOverflow, animationFrame, () => {\n        const value = overflow.trim();\n        if (value.length > 0 && this.getAttribute('overflow') !== value) {\n          this.setAttribute('overflow', value);\n        } else if (value.length === 0 && this.hasAttribute('overflow')) {\n          this.removeAttribute('overflow');\n        }\n      });\n    }\n\n    /** @protected */\n    _frozenCellsChanged() {\n      this._debouncerCacheElements = Debouncer.debounce(this._debouncerCacheElements, microTask, () => {\n        Array.from(this.shadowRoot.querySelectorAll('[part~=\"cell\"]')).forEach((cell) => {\n          cell.style.transform = '';\n        });\n        this._frozenCells = Array.prototype.slice.call(this.$.table.querySelectorAll('[frozen]'));\n        this._frozenToEndCells = Array.prototype.slice.call(this.$.table.querySelectorAll('[frozen-to-end]'));\n        this.__updateHorizontalScrollPosition();\n      });\n      this._updateFrozenColumn();\n    }\n\n    /** @protected */\n    _updateFrozenColumn() {\n      if (!this._columnTree) {\n        return;\n      }\n\n      const columnsRow = this._columnTree[this._columnTree.length - 1].slice(0);\n      columnsRow.sort((a, b) => {\n        return a._order - b._order;\n      });\n\n      let lastFrozen;\n      let firstFrozenToEnd;\n\n      // Use for loop to only iterate columns once\n      for (let i = 0; i < columnsRow.length; i++) {\n        const col = columnsRow[i];\n\n        col._lastFrozen = false;\n        col._firstFrozenToEnd = false;\n\n        if (firstFrozenToEnd === undefined && col.frozenToEnd && !col.hidden) {\n          firstFrozenToEnd = i;\n        }\n\n        if (col.frozen && !col.hidden) {\n          lastFrozen = i;\n        }\n      }\n\n      if (lastFrozen !== undefined) {\n        columnsRow[lastFrozen]._lastFrozen = true;\n      }\n\n      if (firstFrozenToEnd !== undefined) {\n        columnsRow[firstFrozenToEnd]._firstFrozenToEnd = true;\n      }\n    }\n\n    /** @private */\n    __updateHorizontalScrollPosition() {\n      const scrollWidth = this.$.table.scrollWidth;\n      const clientWidth = this.$.table.clientWidth;\n      const scrollLeft = Math.max(0, this.$.table.scrollLeft);\n      const normalizedScrollLeft = this.__getNormalizedScrollLeft(this.$.table);\n\n      // Position header, footer and items container\n      const transform = `translate(${-scrollLeft}px, 0)`;\n      this.$.header.style.transform = transform;\n      this.$.footer.style.transform = transform;\n      this.$.items.style.transform = transform;\n\n      // Position frozen cells\n      const x = this.__isRTL ? normalizedScrollLeft + clientWidth - scrollWidth : scrollLeft;\n      const transformFrozen = `translate(${x}px, 0)`;\n      for (let i = 0; i < this._frozenCells.length; i++) {\n        this._frozenCells[i].style.transform = transformFrozen;\n      }\n\n      // Position cells frozen to end\n      const remaining = this.__isRTL ? normalizedScrollLeft : scrollLeft + clientWidth - scrollWidth;\n      const transformFrozenToEnd = `translate(${remaining}px, 0)`;\n      for (let i = 0; i < this._frozenToEndCells.length; i++) {\n        this._frozenToEndCells[i].style.transform = transformFrozenToEnd;\n      }\n\n      // Only update the --_grid-horizontal-scroll-position custom property when navigating\n      // on row focus mode to avoid performance issues.\n      if (this.hasAttribute('navigating') && this.__rowFocusMode) {\n        this.$.table.style.setProperty('--_grid-horizontal-scroll-position', `${-x}px`);\n      }\n    }\n  };\n", "/**\n * @license\n * Copyright (c) 2016 - 2022 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * @polymerMixin\n */\nexport const SelectionMixin = (superClass) =>\n  class SelectionMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * An array that contains the selected items.\n         * @type {!Array<!GridItem>}\n         */\n        selectedItems: {\n          type: Object,\n          notify: true,\n          value: () => [],\n        },\n\n        /**\n         * Set of selected item ids\n         * @private\n         */\n        __selectedKeys: {\n          type: Object,\n          computed: '__computeSelectedKeys(itemIdPath, selectedItems.*)',\n        },\n      };\n    }\n\n    static get observers() {\n      return ['__selectedItemsChanged(itemIdPath, selectedItems.*)'];\n    }\n\n    /**\n     * @param {!GridItem} item\n     * @return {boolean}\n     * @protected\n     */\n    _isSelected(item) {\n      return this.__selectedKeys.has(this.getItemId(item));\n    }\n\n    /**\n     * Selects the given item.\n     *\n     * @method selectItem\n     * @param {!GridItem} item The item object\n     */\n    selectItem(item) {\n      if (!this._isSelected(item)) {\n        this.selectedItems = [...this.selectedItems, item];\n      }\n    }\n\n    /**\n     * Deselects the given item if it is already selected.\n     *\n     * @method deselect\n     * @param {!GridItem} item The item object\n     */\n    deselectItem(item) {\n      if (this._isSelected(item)) {\n        this.selectedItems = this.selectedItems.filter((i) => !this._itemsEqual(i, item));\n      }\n    }\n\n    /**\n     * Toggles the selected state of the given item.\n     *\n     * @method toggle\n     * @param {!GridItem} item The item object\n     * @protected\n     */\n    _toggleItem(item) {\n      if (!this._isSelected(item)) {\n        this.selectItem(item);\n      } else {\n        this.deselectItem(item);\n      }\n    }\n\n    /** @private */\n    __selectedItemsChanged() {\n      this.requestContentUpdate();\n    }\n\n    /** @private */\n    __computeSelectedKeys(itemIdPath, selectedItems) {\n      const selected = selectedItems.base || [];\n      const selectedKeys = new Set();\n      selected.forEach((item) => {\n        selectedKeys.add(this.getItemId(item));\n      });\n\n      return selectedKeys;\n    }\n\n    /**\n     * Fired when the `selectedItems` property changes.\n     *\n     * @event selected-items-changed\n     */\n  };\n", "/**\n * @license\n * Copyright (c) 2016 - 2022 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\nlet defaultMultiSortPriority = 'prepend';\n\n/**\n * @polymerMixin\n */\nexport const SortMixin = (superClass) =>\n  class SortMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * When `true`, all `<vaadin-grid-sorter>` are applied for sorting.\n         * @attr {boolean} multi-sort\n         * @type {boolean}\n         */\n        multiSort: {\n          type: Boolean,\n          value: false,\n        },\n\n        /**\n         * Controls how columns are added to the sort order when using multi-sort.\n         * The sort order is visually indicated by numbers in grid sorters placed in column headers.\n         *\n         * By default, whenever an unsorted column is sorted, or the sort-direction of a column is\n         * changed, that column gets sort priority 1, thus affecting the priority for all the other\n         * sorted columns. This is identical to using `multi-sort-priority=\"prepend\"`.\n         *\n         * Using this property allows to change this behavior so that sorting an unsorted column\n         * would add it to the \"end\" of the sort, and changing column's sort direction would retain\n         * it's previous priority. To set this, use `multi-sort-priority=\"append\"`.\n         *\n         * @attr {string} multi-sort-priority\n         */\n        multiSortPriority: {\n          type: String,\n          value: () => defaultMultiSortPriority,\n        },\n\n        /**\n         * @type {!Array<!GridSorterDefinition>}\n         * @protected\n         */\n        _sorters: {\n          type: Array,\n          value: () => [],\n        },\n\n        /** @private */\n        _previousSorters: {\n          type: Array,\n          value: () => [],\n        },\n      };\n    }\n\n    /**\n     * Sets the default multi-sort priority to use for all grid instances.\n     * This method should be called before creating any grid instances.\n     * Changing this setting does not affect the default for existing grids.\n     *\n     * @param {string} priority\n     */\n    static setDefaultMultiSortPriority(priority) {\n      defaultMultiSortPriority = ['append', 'prepend'].includes(priority) ? priority : 'prepend';\n    }\n\n    /** @protected */\n    ready() {\n      super.ready();\n      this.addEventListener('sorter-changed', this._onSorterChanged);\n    }\n\n    /** @private */\n    _onSorterChanged(e) {\n      const sorter = e.target;\n      e.stopPropagation();\n      sorter._grid = this;\n      this.__updateSorter(sorter);\n      this.__applySorters();\n    }\n\n    /** @private */\n    __removeSorters(sortersToRemove) {\n      if (sortersToRemove.length === 0) {\n        return;\n      }\n\n      this._sorters = this._sorters.filter((sorter) => sortersToRemove.indexOf(sorter) < 0);\n      if (this.multiSort) {\n        this.__updateSortOrders();\n      }\n      this.__applySorters();\n    }\n\n    /** @private */\n    __updateSortOrders() {\n      this._sorters.forEach((sorter, index) => {\n        sorter._order = this._sorters.length > 1 ? index : null;\n      });\n    }\n\n    /** @private */\n    __appendSorter(sorter) {\n      if (!sorter.direction) {\n        this._removeArrayItem(this._sorters, sorter);\n      } else if (!this._sorters.includes(sorter)) {\n        this._sorters.push(sorter);\n      }\n\n      this.__updateSortOrders();\n    }\n\n    /** @private */\n    __prependSorter(sorter) {\n      this._removeArrayItem(this._sorters, sorter);\n      if (sorter.direction) {\n        this._sorters.unshift(sorter);\n      }\n      this.__updateSortOrders();\n    }\n\n    /** @private */\n    __updateSorter(sorter) {\n      if (!sorter.direction && this._sorters.indexOf(sorter) === -1) {\n        return;\n      }\n\n      sorter._order = null;\n\n      if (this.multiSort) {\n        if (this.multiSortPriority === 'append') {\n          this.__appendSorter(sorter);\n        } else {\n          this.__prependSorter(sorter);\n        }\n      } else if (sorter.direction) {\n        const otherSorters = this._sorters.filter((s) => s !== sorter);\n        this._sorters = [sorter];\n        otherSorters.forEach((sorter) => {\n          sorter._order = null;\n          sorter.direction = null;\n        });\n      }\n    }\n\n    /** @private */\n    __applySorters() {\n      if (\n        this.dataProvider &&\n        // No need to clear cache if sorters didn't change and grid is attached\n        this.isAttached &&\n        JSON.stringify(this._previousSorters) !== JSON.stringify(this._mapSorters())\n      ) {\n        this.clearCache();\n      }\n\n      this._a11yUpdateSorters();\n\n      this._previousSorters = this._mapSorters();\n    }\n\n    /**\n     * @return {!Array<!GridSorterDefinition>}\n     * @protected\n     */\n    _mapSorters() {\n      return this._sorters.map((sorter) => {\n        return {\n          path: sorter.path,\n          direction: sorter.direction,\n        };\n      });\n    }\n\n    /** @private */\n    _removeArrayItem(array, item) {\n      const index = array.indexOf(item);\n      if (index > -1) {\n        array.splice(index, 1);\n      }\n    }\n  };\n", "/**\n * @license\n * Copyright (c) 2016 - 2022 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * @polymerMixin\n */\nexport const StylingMixin = (superClass) =>\n  class StylingMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * A function that allows generating CSS class names for grid cells\n         * based on their row and column. The return value should be the generated\n         * class name as a string, or multiple class names separated by whitespace\n         * characters.\n         *\n         * Receives two arguments:\n         * - `column` The `<vaadin-grid-column>` element (`undefined` for details-cell).\n         * - `model` The object with the properties related with\n         *   the rendered item, contains:\n         *   - `model.index` The index of the item.\n         *   - `model.item` The item.\n         *   - `model.expanded` Sublevel toggle state.\n         *   - `model.level` Level of the tree represented with a horizontal offset of the toggle button.\n         *   - `model.selected` Selected state.\n         *\n         * @type {GridCellClassNameGenerator | null | undefined}\n         */\n        cellClassNameGenerator: Function,\n      };\n    }\n\n    static get observers() {\n      return ['__cellClassNameGeneratorChanged(cellClassNameGenerator)'];\n    }\n\n    /** @private */\n    __cellClassNameGeneratorChanged() {\n      this.generateCellClassNames();\n    }\n\n    /**\n     * Runs the `cellClassNameGenerator` for the visible cells.\n     * If the generator depends on varying conditions, you need to\n     * call this function manually in order to update the styles when\n     * the conditions change.\n     */\n    generateCellClassNames() {\n      Array.from(this.$.items.children)\n        .filter((row) => !row.hidden && !row.hasAttribute('loading'))\n        .forEach((row) => this._generateCellClassNames(row, this.__getRowModel(row)));\n    }\n\n    /** @private */\n    _generateCellClassNames(row, model) {\n      Array.from(row.children).forEach((cell) => {\n        if (cell.__generatedClasses) {\n          cell.__generatedClasses.forEach((className) => cell.classList.remove(className));\n        }\n        if (this.cellClassNameGenerator) {\n          const result = this.cellClassNameGenerator(cell._column, model);\n          cell.__generatedClasses = result && result.split(' ').filter((className) => className.length > 0);\n          if (cell.__generatedClasses) {\n            cell.__generatedClasses.forEach((className) => cell.classList.add(className));\n          }\n        }\n      });\n    }\n  };\n", "/**\n * @license\n * Copyright (c) 2016 - 2022 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport './vaadin-grid-column.js';\nimport './vaadin-grid-styles.js';\nimport { beforeNextRender } from '@polymer/polymer/lib/utils/render-status.js';\nimport { html, PolymerElement } from '@polymer/polymer/polymer-element.js';\nimport { isAndroid, isChrome, isFirefox, isIOS, isSafari, isTouch } from '@vaadin/component-base/src/browser-utils.js';\nimport { ElementMixin } from '@vaadin/component-base/src/element-mixin.js';\nimport { TabindexMixin } from '@vaadin/component-base/src/tabindex-mixin.js';\nimport { processTemplates } from '@vaadin/component-base/src/templates.js';\nimport { Virtualizer } from '@vaadin/component-base/src/virtualizer.js';\nimport { ThemableMixin } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\nimport { A11yMixin } from './vaadin-grid-a11y-mixin.js';\nimport { ActiveItemMixin } from './vaadin-grid-active-item-mixin.js';\nimport { ArrayDataProviderMixin } from './vaadin-grid-array-data-provider-mixin.js';\nimport { ColumnReorderingMixin } from './vaadin-grid-column-reordering-mixin.js';\nimport { ColumnResizingMixin } from './vaadin-grid-column-resizing-mixin.js';\nimport { DataProviderMixin } from './vaadin-grid-data-provider-mixin.js';\nimport { DragAndDropMixin } from './vaadin-grid-drag-and-drop-mixin.js';\nimport { DynamicColumnsMixin } from './vaadin-grid-dynamic-columns-mixin.js';\nimport { EventContextMixin } from './vaadin-grid-event-context-mixin.js';\nimport { FilterMixin } from './vaadin-grid-filter-mixin.js';\nimport { KeyboardNavigationMixin } from './vaadin-grid-keyboard-navigation-mixin.js';\nimport { RowDetailsMixin } from './vaadin-grid-row-details-mixin.js';\nimport { ScrollMixin } from './vaadin-grid-scroll-mixin.js';\nimport { SelectionMixin } from './vaadin-grid-selection-mixin.js';\nimport { SortMixin } from './vaadin-grid-sort-mixin.js';\nimport { StylingMixin } from './vaadin-grid-styling-mixin.js';\n\n/**\n * `<vaadin-grid>` is a free, high quality data grid / data table Web Component. The content of the\n * the grid can be populated by using renderer callback function.\n *\n * ### Quick Start\n *\n * Start with an assigning an array to the [`items`](#/elements/vaadin-grid#property-items) property to visualize your data.\n *\n * Use the [`<vaadin-grid-column>`](#/elements/vaadin-grid-column) element to configure the grid columns. Set `path` and `header`\n * shorthand properties for the columns to define what gets rendered in the cells of the column.\n *\n * #### Example:\n * ```html\n * <vaadin-grid>\n *   <vaadin-grid-column path=\"name.first\" header=\"First name\"></vaadin-grid-column>\n *   <vaadin-grid-column path=\"name.last\" header=\"Last name\"></vaadin-grid-column>\n *   <vaadin-grid-column path=\"email\"></vaadin-grid-column>\n * </vaadin-grid>\n * ```\n *\n * For custom content `vaadin-grid-column` element provides you with three types of `renderer` callback functions: `headerRenderer`,\n * `renderer` and `footerRenderer`.\n *\n * Each of those renderer functions provides `root`, `column`, `model` arguments when applicable.\n * Generate DOM content, append it to the `root` element and control the state\n * of the host element by accessing `column`. Before generating new content,\n * users are able to check if there is already content in `root` for reusing it.\n *\n * Renderers are called on initialization of new column cells and each time the\n * related row model is updated. DOM generated during the renderer call can be reused\n * in the next renderer call and will be provided with the `root` argument.\n * On first call it will be empty.\n *\n * #### Example:\n * ```html\n * <vaadin-grid>\n *   <vaadin-grid-column></vaadin-grid-column>\n *   <vaadin-grid-column></vaadin-grid-column>\n *   <vaadin-grid-column></vaadin-grid-column>\n * </vaadin-grid>\n * ```\n * ```js\n * const grid = document.querySelector('vaadin-grid');\n * grid.items = [{'name': 'John', 'surname': 'Lennon', 'role': 'singer'},\n *               {'name': 'Ringo', 'surname': 'Starr', 'role': 'drums'}];\n *\n * const columns = grid.querySelectorAll('vaadin-grid-column');\n *\n * columns[0].headerRenderer = function(root) {\n *   root.textContent = 'Name';\n * };\n * columns[0].renderer = function(root, column, model) {\n *   root.textContent = model.item.name;\n * };\n *\n * columns[1].headerRenderer = function(root) {\n *   root.textContent = 'Surname';\n * };\n * columns[1].renderer = function(root, column, model) {\n *   root.textContent = model.item.surname;\n * };\n *\n * columns[2].headerRenderer = function(root) {\n *   root.textContent = 'Role';\n * };\n * columns[2].renderer = function(root, column, model) {\n *   root.textContent = model.item.role;\n * };\n * ```\n *\n * The following properties are available in the `model` argument:\n *\n * Property name | Type | Description\n * --------------|------|------------\n * `index`| Number | The index of the item.\n * `item` | String or Object | The item.\n * `level` | Number | Number of the item's tree sublevel, starts from 0.\n * `expanded` | Boolean | True if the item's tree sublevel is expanded.\n * `selected` | Boolean | True if the item is selected.\n * `detailsOpened` | Boolean | True if the item's row details are open.\n *\n * The following helper elements can be used for further customization:\n * - [`<vaadin-grid-column-group>`](#/elements/vaadin-grid-column-group)\n * - [`<vaadin-grid-filter>`](#/elements/vaadin-grid-filter)\n * - [`<vaadin-grid-sorter>`](#/elements/vaadin-grid-sorter)\n * - [`<vaadin-grid-selection-column>`](#/elements/vaadin-grid-selection-column)\n * - [`<vaadin-grid-tree-toggle>`](#/elements/vaadin-grid-tree-toggle)\n *\n * __Note that the helper elements must be explicitly imported.__\n * If you want to import everything at once you can use the `all-imports.html` bundle.\n *\n * ### Lazy Loading with Function Data Provider\n *\n * In addition to assigning an array to the items property, you can alternatively\n * provide the `<vaadin-grid>` data through the\n * [`dataProvider`](#/elements/vaadin-grid#property-dataProvider) function property.\n * The `<vaadin-grid>` calls this function lazily, only when it needs more data\n * to be displayed.\n *\n * See the [`dataProvider`](#/elements/vaadin-grid#property-dataProvider) in\n * the API reference below for the detailed data provider arguments description,\n * and the \u201CAssigning Data\u201D page in the demos.\n *\n * __Note that expanding the tree grid's item will trigger a call to the `dataProvider`.__\n *\n * __Also, note that when using function data providers, the total number of items\n * needs to be set manually. The total number of items can be returned\n * in the second argument of the data provider callback:__\n *\n * ```javascript\n * grid.dataProvider = ({page, pageSize}, callback) => {\n *   // page: the requested page index\n *   // pageSize: number of items on one page\n *   const url = `https://api.example/data?page=${page}&per_page=${pageSize}`;\n *\n *   fetch(url)\n *     .then((res) => res.json())\n *     .then(({ employees, totalSize }) => {\n *       callback(employees, totalSize);\n *     });\n * };\n * ```\n *\n * __Alternatively, you can use the `size` property to set the total number of items:__\n *\n * ```javascript\n * grid.size = 200; // The total number of items\n * grid.dataProvider = ({page, pageSize}, callback) => {\n *   const url = `https://api.example/data?page=${page}&per_page=${pageSize}`;\n *\n *   fetch(url)\n *     .then((res) => res.json())\n *     .then((resJson) => callback(resJson.employees));\n * };\n * ```\n *\n * ### Styling\n *\n * The following shadow DOM parts are available for styling:\n *\n * Part name | Description\n * ----------------|----------------\n * `row` | Row in the internal table\n * `cell` | Cell in the internal table\n * `header-cell` | Header cell in the internal table\n * `body-cell` | Body cell in the internal table\n * `footer-cell` | Footer cell in the internal table\n * `details-cell` | Row details cell in the internal table\n * `resize-handle` | Handle for resizing the columns\n * `reorder-ghost` | Ghost element of the header cell being dragged\n *\n * The following state attributes are available for styling:\n *\n * Attribute             | Description                                                                                       | Part name\n * ----------------------|---------------------------------------------------------------------------------------------------|-----------\n * `loading`             | Set when the grid is loading data from data provider                                              | :host\n * `interacting`         | Keyboard navigation in interaction mode                                                           | :host\n * `navigating`          | Keyboard navigation in navigation mode                                                            | :host\n * `overflow`            | Set when rows are overflowing the grid viewport. Possible values: `top`, `bottom`, `start`, `end` | :host\n * `reordering`          | Set when the grid's columns are being reordered                                                   | :host\n * `dragover`            | Set when the grid (not a specific row) is dragged over                                            | :host\n * `dragging-rows`       | Set when grid rows are dragged                                                                    | :host\n * `reorder-status`      | Reflects the status of a cell while columns are being reordered                                   | cell\n * `frozen`              | Frozen cell                                                                                       | cell\n * `frozen-to-end`       | Cell frozen to end                                                                                | cell\n * `last-frozen`         | Last frozen cell                                                                                  | cell\n * `first-frozen-to-end` | First cell frozen to end                                                                          | cell\n * `first-column`        | First visible cell on a row                                                                       | cell\n * `last-column`         | Last visible cell on a row                                                                        | cell\n * `selected`            | Selected row                                                                                      | row\n * `expanded`            | Expanded row                                                                                      | row\n * `details-opened`      | Row with details open                                                                             | row\n * `loading`             | Row that is waiting for data from data provider                                                   | row\n * `odd`                 | Odd row                                                                                           | row\n * `first`               | The first body row                                                                                | row\n * `last`                | The last body row                                                                                 | row\n * `dragstart`           | Set for one frame when starting to drag a row. The value is a number when dragging multiple rows  | row\n * `dragover`            | Set when the row is dragged over                                                                  | row\n * `drag-disabled`       | Set to a row that isn't available for dragging                                                    | row\n * `drop-disabled`       | Set to a row that can't be dropped on top of                                                      | row\n *\n * See [Styling Components](https://vaadin.com/docs/latest/styling/custom-theme/styling-components) documentation.\n *\n * @fires {CustomEvent} active-item-changed - Fired when the `activeItem` property changes.\n * @fires {CustomEvent} cell-activate - Fired when the cell is activated with click or keyboard.\n * @fires {CustomEvent} cell-focus - Fired when a cell is focused with click or keyboard navigation.\n * @fires {CustomEvent} column-reorder - Fired when the columns in the grid are reordered.\n * @fires {CustomEvent} column-resize - Fired when the grid column resize is finished.\n * @fires {CustomEvent} expanded-items-changed - Fired when the `expandedItems` property changes.\n * @fires {CustomEvent} grid-dragstart - Fired when starting to drag grid rows.\n * @fires {CustomEvent} grid-dragend - Fired when the dragging of the rows ends.\n * @fires {CustomEvent} grid-drop - Fired when a drop occurs on top of the grid.\n * @fires {CustomEvent} loading-changed - Fired when the `loading` property changes.\n * @fires {CustomEvent} selected-items-changed - Fired when the `selectedItems` property changes.\n *\n * @extends HTMLElement\n * @mixes ElementMixin\n * @mixes ThemableMixin\n * @mixes A11yMixin\n * @mixes ActiveItemMixin\n * @mixes ArrayDataProviderMixin\n * @mixes ColumnResizingMixin\n * @mixes DataProviderMixin\n * @mixes DynamicColumnsMixin\n * @mixes FilterMixin\n * @mixes RowDetailsMixin\n * @mixes ScrollMixin\n * @mixes SelectionMixin\n * @mixes SortMixin\n * @mixes KeyboardNavigationMixin\n * @mixes ColumnReorderingMixin\n * @mixes EventContextMixin\n * @mixes StylingMixin\n * @mixes DragAndDropMixin\n */\nclass Grid extends ElementMixin(\n  ThemableMixin(\n    DataProviderMixin(\n      ArrayDataProviderMixin(\n        DynamicColumnsMixin(\n          ActiveItemMixin(\n            ScrollMixin(\n              SelectionMixin(\n                SortMixin(\n                  RowDetailsMixin(\n                    KeyboardNavigationMixin(\n                      A11yMixin(\n                        FilterMixin(\n                          ColumnReorderingMixin(\n                            ColumnResizingMixin(\n                              EventContextMixin(DragAndDropMixin(StylingMixin(TabindexMixin(PolymerElement)))),\n                            ),\n                          ),\n                        ),\n                      ),\n                    ),\n                  ),\n                ),\n              ),\n            ),\n          ),\n        ),\n      ),\n    ),\n  ),\n) {\n  static get template() {\n    return html`\n      <div\n        id=\"scroller\"\n        safari$=\"[[_safari]]\"\n        ios$=\"[[_ios]]\"\n        loading$=\"[[loading]]\"\n        column-reordering-allowed$=\"[[columnReorderingAllowed]]\"\n      >\n        <table id=\"table\" role=\"treegrid\" aria-multiselectable=\"true\" tabindex=\"0\">\n          <caption id=\"sizer\" part=\"row\"></caption>\n          <thead id=\"header\" role=\"rowgroup\"></thead>\n          <tbody id=\"items\" role=\"rowgroup\"></tbody>\n          <tfoot id=\"footer\" role=\"rowgroup\"></tfoot>\n        </table>\n\n        <div part=\"reorder-ghost\"></div>\n      </div>\n\n      <div id=\"focusexit\" tabindex=\"0\"></div>\n    `;\n  }\n\n  static get is() {\n    return 'vaadin-grid';\n  }\n\n  static get observers() {\n    return [\n      '_columnTreeChanged(_columnTree, _columnTree.*)',\n      '_effectiveSizeChanged(_effectiveSize, __virtualizer, _hasData, _columnTree)',\n    ];\n  }\n\n  static get properties() {\n    return {\n      /** @private */\n      _safari: {\n        type: Boolean,\n        value: isSafari,\n      },\n\n      /** @private */\n      _ios: {\n        type: Boolean,\n        value: isIOS,\n      },\n\n      /** @private */\n      _firefox: {\n        type: Boolean,\n        value: isFirefox,\n      },\n\n      /** @private */\n      _android: {\n        type: Boolean,\n        value: isAndroid,\n      },\n\n      /** @private */\n      _touchDevice: {\n        type: Boolean,\n        value: isTouch,\n      },\n\n      /**\n       * If true, the grid's height is defined by its rows.\n       *\n       * Effectively, this disables the grid's virtual scrolling so that all the rows are rendered in the DOM at once.\n       * If the grid has a large number of items, using the feature is discouraged to avoid performance issues.\n       * @attr {boolean} all-rows-visible\n       * @type {boolean}\n       */\n      allRowsVisible: {\n        type: Boolean,\n        value: false,\n        reflectToAttribute: true,\n      },\n\n      /** @private */\n      _recalculateColumnWidthOnceLoadingFinished: {\n        type: Boolean,\n        value: true,\n      },\n\n      /** @private */\n      isAttached: {\n        value: false,\n      },\n\n      /**\n       * An internal property that is mainly used by `vaadin-template-renderer`\n       * to identify grid elements.\n       *\n       * @private\n       */\n      __gridElement: {\n        type: Boolean,\n        value: true,\n      },\n    };\n  }\n\n  constructor() {\n    super();\n    this.addEventListener('animationend', this._onAnimationEnd);\n  }\n\n  /** @protected */\n  connectedCallback() {\n    super.connectedCallback();\n    this.isAttached = true;\n    this.recalculateColumnWidths();\n  }\n\n  /** @protected */\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this.isAttached = false;\n  }\n\n  /** @private */\n  __getFirstVisibleItem() {\n    return this._getVisibleRows().find((row) => this._isInViewport(row));\n  }\n\n  /** @private */\n  get _firstVisibleIndex() {\n    const firstVisibleItem = this.__getFirstVisibleItem();\n    return firstVisibleItem ? firstVisibleItem.index : undefined;\n  }\n\n  /** @private */\n  __getLastVisibleItem() {\n    return this._getVisibleRows()\n      .reverse()\n      .find((row) => this._isInViewport(row));\n  }\n\n  /** @private */\n  get _lastVisibleIndex() {\n    const lastVisibleItem = this.__getLastVisibleItem();\n    return lastVisibleItem ? lastVisibleItem.index : undefined;\n  }\n\n  /** @private */\n  _isInViewport(item) {\n    const scrollTargetRect = this.$.table.getBoundingClientRect();\n    const itemRect = item.getBoundingClientRect();\n    const headerHeight = this.$.header.getBoundingClientRect().height;\n    const footerHeight = this.$.footer.getBoundingClientRect().height;\n    return (\n      itemRect.bottom > scrollTargetRect.top + headerHeight && itemRect.top < scrollTargetRect.bottom - footerHeight\n    );\n  }\n\n  /** @private */\n  _getVisibleRows() {\n    return Array.from(this.$.items.children)\n      .filter((item) => !item.hidden)\n      .sort((a, b) => a.index - b.index);\n  }\n\n  /** @protected */\n  ready() {\n    super.ready();\n\n    this.__virtualizer = new Virtualizer({\n      createElements: this._createScrollerRows.bind(this),\n      updateElement: this._updateScrollerItem.bind(this),\n      scrollContainer: this.$.items,\n      scrollTarget: this.$.table,\n      reorderElements: true,\n    });\n\n    new ResizeObserver(() => setTimeout(() => this.__updateFooterPositioning())).observe(this.$.footer);\n\n    processTemplates(this);\n  }\n\n  /**\n   * @param {string} name\n   * @param {?string} oldValue\n   * @param {?string} newValue\n   * @protected\n   */\n  attributeChangedCallback(name, oldValue, newValue) {\n    super.attributeChangedCallback(name, oldValue, newValue);\n    if (name === 'dir') {\n      this.__isRTL = newValue === 'rtl';\n    }\n  }\n\n  /** @private */\n  __getBodyCellCoordinates(cell) {\n    if (this.$.items.contains(cell) && cell.localName === 'td') {\n      return {\n        item: cell.parentElement._item,\n        column: cell._column,\n      };\n    }\n  }\n\n  /** @private */\n  __focusBodyCell({ item, column }) {\n    const row = this._getVisibleRows().find((row) => row._item === item);\n    const cell = row && [...row.children].find((cell) => cell._column === column);\n    if (cell) {\n      cell.focus();\n    }\n  }\n\n  /** @private */\n  _effectiveSizeChanged(effectiveSize, virtualizer, hasData, columnTree) {\n    if (virtualizer && hasData && columnTree) {\n      // Changing the virtualizer size may result in the row with focus getting hidden\n      const cell = this.shadowRoot.activeElement;\n      const cellCoordinates = this.__getBodyCellCoordinates(cell);\n\n      virtualizer.size = effectiveSize;\n      virtualizer.update();\n      virtualizer.flush();\n\n      // If the focused cell's parent row got hidden by the size change, focus the corresponding new cell\n      if (cellCoordinates && cell.parentElement.hidden) {\n        this.__focusBodyCell(cellCoordinates);\n      }\n\n      // Make sure the body has a tabbable element\n      this._resetKeyboardNavigation();\n    }\n  }\n\n  /** @private */\n  __hasRowsWithClientHeight() {\n    return !!Array.from(this.$.items.children).filter((row) => row.clientHeight).length;\n  }\n\n  /** @protected */\n  __itemsReceived() {\n    if (\n      this._recalculateColumnWidthOnceLoadingFinished &&\n      !this._cache.isLoading() &&\n      this.__hasRowsWithClientHeight()\n    ) {\n      this._recalculateColumnWidthOnceLoadingFinished = false;\n      this.recalculateColumnWidths();\n    }\n  }\n\n  /** @private */\n  __getIntrinsicWidth(col) {\n    const initialWidth = col.width;\n    const initialFlexGrow = col.flexGrow;\n\n    col.width = 'auto';\n    col.flexGrow = 0;\n\n    // Note: _allCells only contains cells which are currently rendered in DOM\n    const width = col._allCells\n      .filter((cell) => {\n        // Exclude body cells that are out of the visible viewport\n        return !this.$.items.contains(cell) || this._isInViewport(cell.parentElement);\n      })\n      .reduce((width, cell) => {\n        // Add 1px buffer to the offset width to avoid too narrow columns (sub-pixel rendering)\n        return Math.max(width, cell.offsetWidth + 1);\n      }, 0);\n\n    col.flexGrow = initialFlexGrow;\n    col.width = initialWidth;\n\n    return width;\n  }\n\n  /** @private */\n  __getDistributedWidth(col, innerColumn) {\n    if (col == null || col === this) {\n      return 0;\n    }\n\n    const columnWidth = Math.max(this.__getIntrinsicWidth(col), this.__getDistributedWidth(col.parentElement, col));\n\n    // We're processing a regular grid-column and not a grid-column-group\n    if (!innerColumn) {\n      return columnWidth;\n    }\n\n    // At the end, the width of each vaadin-grid-column-group is determined by the sum of the width of its children.\n    // Here we determine how much space the vaadin-grid-column-group actually needs to render properly and then we distribute that space\n    // to its children, so when we actually do the summation it will be rendered properly.\n    // Check out vaadin-grid-column-group:_updateFlexAndWidth\n    const columnGroup = col;\n    const columnGroupWidth = columnWidth;\n    const sumOfWidthOfAllChildColumns = columnGroup._visibleChildColumns\n      .map((col) => this.__getIntrinsicWidth(col))\n      .reduce((sum, curr) => sum + curr, 0);\n\n    const extraNecessarySpaceForGridColumnGroup = Math.max(0, columnGroupWidth - sumOfWidthOfAllChildColumns);\n\n    // The distribution of the extra necessary space is done according to the intrinsic width of each child column.\n    // Lets say we need 100 pixels of extra space for the grid-column-group to render properly\n    // it has two grid-column children, |100px|300px| in total 400px\n    // the first column gets 25px of the additional space (100/400)*100 = 25\n    // the second column gets the 75px of the additional space (300/400)*100 = 75\n    const proportionOfExtraSpace = this.__getIntrinsicWidth(innerColumn) / sumOfWidthOfAllChildColumns;\n    const shareOfInnerColumnFromNecessaryExtraSpace = proportionOfExtraSpace * extraNecessarySpaceForGridColumnGroup;\n\n    return this.__getIntrinsicWidth(innerColumn) + shareOfInnerColumnFromNecessaryExtraSpace;\n  }\n\n  /**\n   * @param {!Array<!GridColumn>} cols the columns to auto size based on their content width\n   * @private\n   */\n  _recalculateColumnWidths(cols) {\n    // Flush to make sure DOM is up-to-date when measuring the column widths\n    this.__virtualizer.flush();\n\n    // Flush to account for any changes to the visibility of the columns\n    if (this._debouncerHiddenChanged) {\n      this._debouncerHiddenChanged.flush();\n    }\n\n    cols.forEach((col) => {\n      col.width = `${this.__getDistributedWidth(col)}px`;\n    });\n  }\n\n  /**\n   * Updates the `width` of all columns which have `autoWidth` set to `true`.\n   */\n  recalculateColumnWidths() {\n    if (!this._columnTree) {\n      return; // No columns\n    }\n    if (this._cache.isLoading()) {\n      this._recalculateColumnWidthOnceLoadingFinished = true;\n    } else {\n      const cols = this._getColumns().filter((col) => !col.hidden && col.autoWidth);\n      this._recalculateColumnWidths(cols);\n    }\n  }\n\n  /** @private */\n  _createScrollerRows(count) {\n    const rows = [];\n    for (let i = 0; i < count; i++) {\n      const row = document.createElement('tr');\n      row.setAttribute('part', 'row');\n      row.setAttribute('role', 'row');\n      row.setAttribute('tabindex', '-1');\n      if (this._columnTree) {\n        this._updateRow(row, this._columnTree[this._columnTree.length - 1], 'body', false, true);\n      }\n      rows.push(row);\n    }\n\n    if (this._columnTree) {\n      this._columnTree[this._columnTree.length - 1].forEach(\n        (c) => c.isConnected && c.notifyPath && c.notifyPath('_cells.*', c._cells),\n      );\n    }\n\n    beforeNextRender(this, () => {\n      this._updateFirstAndLastColumn();\n      this._resetKeyboardNavigation();\n      this._afterScroll();\n      this.__itemsReceived();\n    });\n    return rows;\n  }\n\n  /** @private */\n  _createCell(tagName) {\n    const contentId = (this._contentIndex = this._contentIndex + 1 || 0);\n    const slotName = `vaadin-grid-cell-content-${contentId}`;\n\n    const cellContent = document.createElement('vaadin-grid-cell-content');\n    cellContent.setAttribute('slot', slotName);\n\n    const cell = document.createElement(tagName);\n    cell.id = slotName.replace('-content-', '-');\n    cell.setAttribute('tabindex', '-1');\n    cell.setAttribute('role', tagName === 'td' ? 'gridcell' : 'columnheader');\n\n    const slot = document.createElement('slot');\n    slot.setAttribute('name', slotName);\n\n    cell.appendChild(slot);\n\n    cell._content = cellContent;\n\n    // With native Shadow DOM, mousedown on slotted element does not focus\n    // focusable slot wrapper, that is why cells are not focused with\n    // mousedown. Workaround: listen for mousedown and focus manually.\n    cellContent.addEventListener('mousedown', () => {\n      if (isChrome) {\n        // Chrome bug: focusing before mouseup prevents text selection, see http://crbug.com/771903\n        const mouseUpListener = (event) => {\n          // If focus is on element within the cell content \u2014 respect it, do not change\n          const contentContainsFocusedElement = cellContent.contains(this.getRootNode().activeElement);\n          // Only focus if mouse is released on cell content itself\n          const mouseUpWithinCell = event.composedPath().includes(cellContent);\n          if (!contentContainsFocusedElement && mouseUpWithinCell) {\n            cell.focus();\n          }\n          document.removeEventListener('mouseup', mouseUpListener, true);\n        };\n        document.addEventListener('mouseup', mouseUpListener, true);\n      } else {\n        // Focus on mouseup, on the other hand, removes selection on Safari.\n        // Watch out sync focus removal issue, only async focus works here.\n        setTimeout(() => {\n          if (!cellContent.contains(this.getRootNode().activeElement)) {\n            cell.focus();\n          }\n        });\n      }\n    });\n\n    return cell;\n  }\n\n  /**\n   * @param {!HTMLTableRowElement} row\n   * @param {!Array<!GridColumn>} columns\n   * @param {?string} section\n   * @param {boolean} isColumnRow\n   * @param {boolean} noNotify\n   * @protected\n   */\n  // eslint-disable-next-line max-params\n  _updateRow(row, columns, section, isColumnRow, noNotify) {\n    section = section || 'body';\n\n    const contentsFragment = document.createDocumentFragment();\n\n    Array.from(row.children).forEach((cell) => {\n      cell._vacant = true;\n    });\n    row.innerHTML = '';\n\n    columns\n      .filter((column) => !column.hidden)\n      .forEach((column, index, cols) => {\n        let cell;\n\n        if (section === 'body') {\n          // Body\n          column._cells = column._cells || [];\n          cell = column._cells.filter((cell) => cell._vacant)[0];\n          if (!cell) {\n            cell = this._createCell('td');\n            column._cells.push(cell);\n          }\n          cell.setAttribute('part', 'cell body-cell');\n          row.appendChild(cell);\n\n          if (index === cols.length - 1 && this.rowDetailsRenderer) {\n            // Add details cell as last cell to body rows\n            this._detailsCells = this._detailsCells || [];\n            const detailsCell = this._detailsCells.filter((cell) => cell._vacant)[0] || this._createCell('td');\n            if (this._detailsCells.indexOf(detailsCell) === -1) {\n              this._detailsCells.push(detailsCell);\n            }\n            if (!detailsCell._content.parentElement) {\n              contentsFragment.appendChild(detailsCell._content);\n            }\n            this._configureDetailsCell(detailsCell);\n            row.appendChild(detailsCell);\n            this._a11ySetRowDetailsCell(row, detailsCell);\n            detailsCell._vacant = false;\n          }\n\n          if (column.notifyPath && !noNotify) {\n            column.notifyPath('_cells.*', column._cells);\n          }\n        } else {\n          // Header & footer\n          const tagName = section === 'header' ? 'th' : 'td';\n          if (isColumnRow || column.localName === 'vaadin-grid-column-group') {\n            cell = column[`_${section}Cell`] || this._createCell(tagName);\n            cell._column = column;\n            row.appendChild(cell);\n            column[`_${section}Cell`] = cell;\n          } else {\n            column._emptyCells = column._emptyCells || [];\n            cell = column._emptyCells.filter((cell) => cell._vacant)[0] || this._createCell(tagName);\n            cell._column = column;\n            row.appendChild(cell);\n            if (column._emptyCells.indexOf(cell) === -1) {\n              column._emptyCells.push(cell);\n            }\n          }\n          cell.setAttribute('part', `cell ${section}-cell`);\n          this.__updateHeaderFooterRowVisibility(row);\n        }\n\n        if (!cell._content.parentElement) {\n          contentsFragment.appendChild(cell._content);\n        }\n        cell._vacant = false;\n        cell._column = column;\n      });\n\n    // Might be empty if only cache was used\n    this.appendChild(contentsFragment);\n\n    this._frozenCellsChanged();\n    this._updateFirstAndLastColumnForRow(row);\n  }\n\n  /**\n   * @param {HTMLTableRowElement} row\n   * @protected\n   */\n  __updateHeaderFooterRowVisibility(row) {\n    if (!row) {\n      return;\n    }\n\n    const visibleRowCells = Array.from(row.children).filter((cell) => {\n      const column = cell._column;\n      if (column._emptyCells && column._emptyCells.indexOf(cell) > -1) {\n        // The cell is an \"empty cell\"  -> doesn't block hiding the row\n        return false;\n      }\n      if (row.parentElement === this.$.header) {\n        if (column.headerRenderer) {\n          // The cell is the header cell of a column that has a header renderer\n          // -> row should be visible\n          return true;\n        }\n        if (column.header === null) {\n          // The column header is explicilty set to null -> doesn't block hiding the row\n          return false;\n        }\n        if (column.path || column.header !== undefined) {\n          // The column has an explicit non-null header or a path that generates a header\n          // -> row should be visible\n          return true;\n        }\n      } else if (column.footerRenderer) {\n        // The cell is the footer cell of a column that has a footer renderer\n        // -> row should be visible\n        return true;\n      }\n      return false;\n    });\n\n    if (row.hidden !== !visibleRowCells.length) {\n      row.hidden = !visibleRowCells.length;\n    }\n\n    // Make sure the section has a tabbable element\n    this._resetKeyboardNavigation();\n  }\n\n  /** @private */\n  _updateScrollerItem(row, index) {\n    this._preventScrollerRotatingCellFocus(row, index);\n\n    if (!this._columnTree) {\n      return;\n    }\n\n    row.toggleAttribute('first', index === 0);\n    row.toggleAttribute('last', index === this._effectiveSize - 1);\n    row.toggleAttribute('odd', index % 2);\n    this._a11yUpdateRowRowindex(row, index);\n    this._getItem(index, row);\n  }\n\n  /** @private */\n  _columnTreeChanged(columnTree) {\n    this._renderColumnTree(columnTree);\n    this.recalculateColumnWidths();\n  }\n\n  /**\n   * @param {!Array<!GridColumn>} columnTree\n   * @protected\n   */\n  _renderColumnTree(columnTree) {\n    Array.from(this.$.items.children).forEach((row) =>\n      this._updateRow(row, columnTree[columnTree.length - 1], null, false, true),\n    );\n\n    while (this.$.header.children.length < columnTree.length) {\n      const headerRow = document.createElement('tr');\n      headerRow.setAttribute('part', 'row');\n      headerRow.setAttribute('role', 'row');\n      headerRow.setAttribute('tabindex', '-1');\n      this.$.header.appendChild(headerRow);\n\n      const footerRow = document.createElement('tr');\n      footerRow.setAttribute('part', 'row');\n      footerRow.setAttribute('role', 'row');\n      footerRow.setAttribute('tabindex', '-1');\n      this.$.footer.appendChild(footerRow);\n    }\n    while (this.$.header.children.length > columnTree.length) {\n      this.$.header.removeChild(this.$.header.firstElementChild);\n      this.$.footer.removeChild(this.$.footer.firstElementChild);\n    }\n\n    Array.from(this.$.header.children).forEach((headerRow, index) =>\n      this._updateRow(headerRow, columnTree[index], 'header', index === columnTree.length - 1),\n    );\n\n    Array.from(this.$.footer.children).forEach((footerRow, index) =>\n      this._updateRow(footerRow, columnTree[columnTree.length - 1 - index], 'footer', index === 0),\n    );\n\n    // Sizer rows\n    this._updateRow(this.$.sizer, columnTree[columnTree.length - 1]);\n\n    this._resizeHandler();\n    this._frozenCellsChanged();\n    this._updateFirstAndLastColumn();\n    this._resetKeyboardNavigation();\n    this._a11yUpdateHeaderRows();\n    this._a11yUpdateFooterRows();\n    this.__updateFooterPositioning();\n    this.generateCellClassNames();\n  }\n\n  /** @private */\n  __updateFooterPositioning() {\n    // TODO: fixed in Firefox 99, remove when we can drop Firefox ESR 91 support\n    if (this._firefox && parseFloat(navigator.userAgent.match(/Firefox\\/(\\d{2,3}.\\d)/)[1]) < 99) {\n      // Sticky (or translated) footer in a flexbox host doesn't get included in\n      // the scroll height calculation on FF. This is a workaround for the issue.\n      this.$.items.style.paddingBottom = 0;\n      if (!this.allRowsVisible) {\n        this.$.items.style.paddingBottom = `${this.$.footer.offsetHeight}px`;\n      }\n    }\n  }\n\n  /**\n   * @param {!HTMLElement} row\n   * @param {GridItem} item\n   * @protected\n   */\n  _updateItem(row, item) {\n    row._item = item;\n    const model = this.__getRowModel(row);\n\n    this._toggleDetailsCell(row, model.detailsOpened);\n\n    this._a11yUpdateRowLevel(row, model.level);\n    this._a11yUpdateRowSelected(row, model.selected);\n\n    row.toggleAttribute('expanded', model.expanded);\n    row.toggleAttribute('selected', model.selected);\n    row.toggleAttribute('details-opened', model.detailsOpened);\n\n    this._generateCellClassNames(row, model);\n    this._filterDragAndDrop(row, model);\n\n    Array.from(row.children).forEach((cell) => {\n      if (cell._renderer) {\n        const owner = cell._column || this;\n        cell._renderer.call(owner, cell._content, owner, model);\n      }\n    });\n\n    this._updateDetailsCellHeight(row);\n\n    this._a11yUpdateRowExpanded(row, model.expanded);\n  }\n\n  /** @private */\n  _resizeHandler() {\n    this._updateDetailsCellHeights();\n    this.__updateFooterPositioning();\n    this.__updateHorizontalScrollPosition();\n  }\n\n  /** @private */\n  _onAnimationEnd(e) {\n    // ShadyCSS applies scoping suffixes to animation names\n    if (e.animationName.indexOf('vaadin-grid-appear') === 0) {\n      e.stopPropagation();\n      this.__itemsReceived();\n\n      requestAnimationFrame(() => {\n        this.__scrollToPendingIndex();\n      });\n    }\n  }\n\n  /**\n   * @param {!HTMLTableRowElement} row\n   * @return {!GridItemModel}\n   * @protected\n   */\n  __getRowModel(row) {\n    return {\n      index: row.index,\n      item: row._item,\n      level: this._getIndexLevel(row.index),\n      expanded: this._isExpanded(row._item),\n      selected: this._isSelected(row._item),\n      detailsOpened: !!this.rowDetailsRenderer && this._isDetailsOpened(row._item),\n    };\n  }\n\n  /**\n   * Requests an update for the content of cells.\n   *\n   * While performing the update, the following renderers are invoked:\n   * - `Grid.rowDetailsRenderer`\n   * - `GridColumn.renderer`\n   * - `GridColumn.headerRenderer`\n   * - `GridColumn.footerRenderer`\n   *\n   * It is not guaranteed that the update happens immediately (synchronously) after it is requested.\n   */\n  requestContentUpdate() {\n    if (this._columnTree) {\n      // Header and footer renderers\n      this._columnTree.forEach((level) => {\n        level.forEach((column) => {\n          if (column._renderHeaderAndFooter) {\n            column._renderHeaderAndFooter();\n          }\n        });\n      });\n\n      // Body and row details renderers\n      this.__updateVisibleRows();\n    }\n  }\n\n  /** @protected */\n  __updateVisibleRows(start, end) {\n    if (this.__virtualizer) {\n      this.__virtualizer.update(start, end);\n    }\n  }\n\n  /**\n   * Updates the computed metrics and positioning of internal grid parts\n   * (row/details cell positioning etc). Needs to be invoked whenever the sizing of grid\n   * content changes asynchronously to ensure consistent appearance (e.g. when a\n   * contained image whose bounds aren't known beforehand finishes loading).\n   *\n   * @deprecated Since Vaadin 22, `notifyResize()` is deprecated. The component uses a\n   * ResizeObserver internally and doesn't need to be explicitly notified of resizes.\n   */\n  notifyResize() {\n    console.warn(\n      `WARNING: Since Vaadin 22, notifyResize() is deprecated. The component uses a ResizeObserver internally and doesn't need to be explicitly notified of resizes.`,\n    );\n  }\n}\n\ncustomElements.define(Grid.is, Grid);\n\nexport { Grid };\n"],
  "mappings": "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",
  "names": ["ItemCache", "filter", "column", "cell", "row", "filter", "sorter", "row", "cell", "width", "col"]
}
